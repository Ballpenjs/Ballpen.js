{"version":3,"file":"ballpen.min.js","sources":["../src/ballpen-util.js","../node_modules/axios/dist/axios.min.js","../src/ballpen-global-wrapper.js","../src/ballpen.js"],"sourcesContent":["class BallpenUtil {\r\n    static findReferenceNode(obj, map = new Map(), root = '') {\r\n        let _root = root;\r\n\r\n        if (BallpenUtil.isObject(obj)) {\r\n            for (let _i in obj) {\r\n                if (BallpenUtil.isObject(obj[_i]) || BallpenUtil.isArray(obj[_i])) {\r\n                    _root += `${_i}.`;\r\n\r\n                    map.set(_root.slice(0, -1), []);\r\n\r\n                    BallpenUtil.findReferenceNode(obj[_i], map, _root);\r\n                }\r\n            }\r\n        } else if (BallpenUtil.isArray(obj)) {\r\n            obj.forEach((_i, _index) => {\r\n                if (BallpenUtil.isObject(_i) || BallpenUtil.isArray(_i)) {\r\n                    _root += `${_index}.`;\r\n\r\n                    map.set(_root.slice(0, -1), []);\r\n\r\n                    BallpenUtil.findReferenceNode(_i, map, _root);\r\n                }\r\n            });\r\n        }\r\n\r\n        return map;\r\n    }\r\n    \r\n\tstatic isHTMLCollection(obj) {\r\n        return Object.prototype.toString.call(obj) === '[object HTMLCollection]';\r\n    };\r\n\r\n    static isArray(arr) {\r\n        return Array.isArray(arr) || Object.prototype.toString.call(arr) === '[object Array]';\r\n    };\r\n\r\n    static toArray(collection) {\r\n        return Array.prototype.slice.call(collection);\r\n    }\r\n\r\n    static isObject(obj) {\r\n        return Object.prototype.toString.call(obj) === '[object Object]';\r\n    };\r\n\r\n    static isReferenceType(obj) {\r\n        return BallpenUtil.isObject(obj) || BallpenUtil.isArray(obj);\r\n    }\r\n\r\n    static renderObjectValueByPath(obj, path, val) {\r\n        let _paths = path.split('.');\r\n\r\n        if (typeof BallpenUtil.parseData(path, obj).data === 'undefined') {\r\n            BallpenUtil.throwError(`Find an invalid watcher path when initializing Ballpen.js -> \"${path}\"`, 'Please make sure the watcher path you set is exist and valid.');  \r\n        }\r\n\r\n        if (_paths.length === 1) {\r\n            obj[_paths[0]] = val;\r\n        } else {\r\n            for (let i = 0; i < _paths.length - 1; i++) {\r\n                obj = obj[_paths[i]];\r\n                if (!obj) {\r\n                    BallpenUtil.throwError(`Find an invalid watcher path when initializing Ballpen.js -> \"${path}\"`, 'Please make sure the watcher path you set is exist and valid.');  \r\n                }\r\n\r\n                if (i === _paths.length - 2) {\r\n                    obj[_paths[_paths.length - 1]] = val;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    static parseData(str, dataObj) {\r\n        const _list = str.split('.');\r\n        let _data = dataObj;\r\n        let p = [];\r\n\r\n        _list.forEach((key, index) => {\r\n            if (index === 0) {\r\n                _data = dataObj[key];\r\n                p.push(key);\r\n            } else {\r\n                _data = _data[key];\r\n                p.push(key);\r\n            }\r\n        });\r\n\r\n        return {\r\n            path: p,\r\n            data: _data\r\n        };\r\n    };\r\n\r\n    static ignoreInnerDirectives(directiveValue, exceptList, fn, ...args) {\r\n        exceptList.forEach((regexp) => {\r\n            if (regexp.test(directiveValue)) {\r\n                fn && fn.call(this, ...args);\r\n            }\r\n        });\r\n\r\n        if (!/^@/ig.test(directiveValue)) {\r\n            fn && fn.call(this, ...args);\r\n        }\r\n    };\r\n\r\n    static clone(obj) {\r\n        let copy;\r\n\r\n        if (obj === null || typeof obj !== 'object') return obj;\r\n\r\n        if (obj instanceof Date) {\r\n            copy = new Date();\r\n            copy.setTime(obj.getTime());\r\n            return copy;\r\n        }\r\n\r\n        if (obj instanceof Array) {\r\n            copy = [];\r\n            for (var i = 0, len = obj.length; i < len; i++) {\r\n                copy[i] = BallpenUtil.clone(obj[i]);\r\n            }\r\n            return copy;\r\n        }\r\n\r\n        if (obj instanceof Object) {\r\n            copy = {};\r\n            for (var attr in obj) {\r\n                if (obj.hasOwnProperty(attr)) copy[attr] = BallpenUtil.clone(obj[attr]);\r\n            }\r\n            return copy;\r\n        }\r\n\r\n        BallpenUtil.throwError('Internal error, unable to copy object, type is not supported.', 'Please contact the author to fix this issue.');  \r\n    };\r\n\r\n    static wrapAbsPath(rootPath, relPath) {\r\n        return (BallpenUtil.isArray(rootPath) && rootPath.length > 0 ? (rootPath.join('.') + '.') : (rootPath.toString().length > 0 ? (rootPath.toString() + '.') : '')) + \r\n        (BallpenUtil.isArray(relPath) && relPath.length > 0 ? relPath.join('.') : (relPath.toString().length > 0 ? relPath.toString() : ''));\r\n    };\r\n\r\n    static throwError(err, desc) {\r\n        let _e = new Error(`[Ballpen Parser Error] \\n\\n [Message] \\n\\n - ${err} \\n\\n [Description] \\n\\n - ${desc} \\n`); \r\n        _e.name = 'BallpenError';     \r\n\r\n        throw _e;           \r\n    };\r\n    \r\n    static randomSequence(n) {\r\n        let chars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\r\n        let res = '';\r\n\r\n        for (let i = 0; i < n; i++) {\r\n            let id = Math.ceil(Math.random() * 35);\r\n            res += chars[id];\r\n        }\r\n\r\n        return res;\r\n    }\r\n}\r\n\r\nexport default BallpenUtil;\r\n","/* axios v0.15.3 | (c) 2016 by Matt Zabriskie */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.axios=t():e.axios=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p=\"\",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){\"use strict\";function r(e){var t=new i(e),n=s(i.prototype.request,t);return o.extend(n,i.prototype,t),o.extend(n,t),n}var o=n(2),s=n(3),i=n(4),a=n(5),u=r(a);u.Axios=i,u.create=function(e){return r(o.merge(a,e))},u.Cancel=n(22),u.CancelToken=n(23),u.isCancel=n(19),u.all=function(e){return Promise.all(e)},u.spread=n(24),e.exports=u,e.exports.default=u},function(e,t,n){\"use strict\";function r(e){return\"[object Array]\"===C.call(e)}function o(e){return\"[object ArrayBuffer]\"===C.call(e)}function s(e){return\"undefined\"!=typeof FormData&&e instanceof FormData}function i(e){var t;return t=\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function a(e){return\"string\"==typeof e}function u(e){return\"number\"==typeof e}function c(e){return\"undefined\"==typeof e}function f(e){return null!==e&&\"object\"==typeof e}function p(e){return\"[object Date]\"===C.call(e)}function d(e){return\"[object File]\"===C.call(e)}function l(e){return\"[object Blob]\"===C.call(e)}function h(e){return\"[object Function]\"===C.call(e)}function m(e){return f(e)&&h(e.pipe)}function y(e){return\"undefined\"!=typeof URLSearchParams&&e instanceof URLSearchParams}function w(e){return e.replace(/^\\s*/,\"\").replace(/\\s*$/,\"\")}function g(){return\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&\"function\"==typeof document.createElement}function v(e,t){if(null!==e&&\"undefined\"!=typeof e)if(\"object\"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function x(){function e(e,n){\"object\"==typeof t[n]&&\"object\"==typeof e?t[n]=x(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)v(arguments[n],e);return t}function b(e,t,n){return v(t,function(t,r){n&&\"function\"==typeof t?e[r]=E(t,n):e[r]=t}),e}var E=n(3),C=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:o,isFormData:s,isArrayBufferView:i,isString:a,isNumber:u,isObject:f,isUndefined:c,isDate:p,isFile:d,isBlob:l,isFunction:h,isStream:m,isURLSearchParams:y,isStandardBrowserEnv:g,forEach:v,merge:x,extend:b,trim:w}},function(e,t){\"use strict\";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){\"use strict\";function r(e){this.defaults=e,this.interceptors={request:new i,response:new i}}var o=n(5),s=n(2),i=n(16),a=n(17),u=n(20),c=n(21);r.prototype.request=function(e){\"string\"==typeof e&&(e=s.merge({url:arguments[0]},arguments[1])),e=s.merge(o,this.defaults,{method:\"get\"},e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url));var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},s.forEach([\"delete\",\"get\",\"head\"],function(e){r.prototype[e]=function(t,n){return this.request(s.merge(n||{},{method:e,url:t}))}}),s.forEach([\"post\",\"put\",\"patch\"],function(e){r.prototype[e]=function(t,n,r){return this.request(s.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){\"use strict\";function r(e,t){!s.isUndefined(e)&&s.isUndefined(e[\"Content-Type\"])&&(e[\"Content-Type\"]=t)}function o(){var e;return\"undefined\"!=typeof XMLHttpRequest?e=n(7):\"undefined\"!=typeof process&&(e=n(7)),e}var s=n(2),i=n(6),a=/^\\)\\]\\}',?\\n/,u={\"Content-Type\":\"application/x-www-form-urlencoded\"},c={adapter:o(),transformRequest:[function(e,t){return i(t,\"Content-Type\"),s.isFormData(e)||s.isArrayBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e)?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(r(t,\"application/x-www-form-urlencoded;charset=utf-8\"),e.toString()):s.isObject(e)?(r(t,\"application/json;charset=utf-8\"),JSON.stringify(e)):e}],transformResponse:[function(e){if(\"string\"==typeof e){e=e.replace(a,\"\");try{e=JSON.parse(e)}catch(e){}}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:\"application/json, text/plain, */*\"}},s.forEach([\"delete\",\"get\",\"head\"],function(e){c.headers[e]={}}),s.forEach([\"post\",\"put\",\"patch\"],function(e){c.headers[e]=s.merge(u)}),e.exports=c},function(e,t,n){\"use strict\";var r=n(2);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){\"use strict\";var r=n(2),o=n(8),s=n(11),i=n(12),a=n(13),u=n(9),c=\"undefined\"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(14);e.exports=function(e){return new Promise(function(t,f){var p=e.data,d=e.headers;r.isFormData(p)&&delete d[\"Content-Type\"];var l=new XMLHttpRequest,h=\"onreadystatechange\",m=!1;if(\"undefined\"==typeof window||!window.XDomainRequest||\"withCredentials\"in l||a(e.url)||(l=new window.XDomainRequest,h=\"onload\",m=!0,l.onprogress=function(){},l.ontimeout=function(){}),e.auth){var y=e.auth.username||\"\",w=e.auth.password||\"\";d.Authorization=\"Basic \"+c(y+\":\"+w)}if(l.open(e.method.toUpperCase(),s(e.url,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,l[h]=function(){if(l&&(4===l.readyState||m)&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf(\"file:\"))){var n=\"getAllResponseHeaders\"in l?i(l.getAllResponseHeaders()):null,r=e.responseType&&\"text\"!==e.responseType?l.response:l.responseText,s={data:r,status:1223===l.status?204:l.status,statusText:1223===l.status?\"No Content\":l.statusText,headers:n,config:e,request:l};o(t,f,s),l=null}},l.onerror=function(){f(u(\"Network Error\",e)),l=null},l.ontimeout=function(){f(u(\"timeout of \"+e.timeout+\"ms exceeded\",e,\"ECONNABORTED\")),l=null},r.isStandardBrowserEnv()){var g=n(15),v=(e.withCredentials||a(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}if(\"setRequestHeader\"in l&&r.forEach(d,function(e,t){\"undefined\"==typeof p&&\"content-type\"===t.toLowerCase()?delete d[t]:l.setRequestHeader(t,e)}),e.withCredentials&&(l.withCredentials=!0),e.responseType)try{l.responseType=e.responseType}catch(e){if(\"json\"!==l.responseType)throw e}\"function\"==typeof e.onDownloadProgress&&l.addEventListener(\"progress\",e.onDownloadProgress),\"function\"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener(\"progress\",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){l&&(l.abort(),f(e),l=null)}),void 0===p&&(p=null),l.send(p)})}},function(e,t,n){\"use strict\";var r=n(9);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r(\"Request failed with status code \"+n.status,n.config,null,n)):e(n)}},function(e,t,n){\"use strict\";var r=n(10);e.exports=function(e,t,n,o){var s=new Error(e);return r(s,t,n,o)}},function(e,t){\"use strict\";e.exports=function(e,t,n,r){return e.config=t,n&&(e.code=n),e.response=r,e}},function(e,t,n){\"use strict\";function r(e){return encodeURIComponent(e).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}var o=n(2);e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(o.isURLSearchParams(t))s=t.toString();else{var i=[];o.forEach(t,function(e,t){null!==e&&\"undefined\"!=typeof e&&(o.isArray(e)&&(t+=\"[]\"),o.isArray(e)||(e=[e]),o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),i.push(r(t)+\"=\"+r(e))}))}),s=i.join(\"&\")}return s&&(e+=(e.indexOf(\"?\")===-1?\"?\":\"&\")+s),e}},function(e,t,n){\"use strict\";var r=n(2);e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split(\"\\n\"),function(e){o=e.indexOf(\":\"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t&&(s[t]=s[t]?s[t]+\", \"+n:n)}),s):s}},function(e,t,n){\"use strict\";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(o.setAttribute(\"href\",t),t=o.href),o.setAttribute(\"href\",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,\"\"):\"\",host:o.host,search:o.search?o.search.replace(/^\\?/,\"\"):\"\",hash:o.hash?o.hash.replace(/^#/,\"\"):\"\",hostname:o.hostname,port:o.port,pathname:\"/\"===o.pathname.charAt(0)?o.pathname:\"/\"+o.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement(\"a\");return t=e(window.location.href),function(n){var o=r.isString(n)?e(n):n;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t){\"use strict\";function n(){this.message=\"String contains an invalid character\"}function r(e){for(var t,r,s=String(e),i=\"\",a=0,u=o;s.charAt(0|a)||(u=\"=\",a%1);i+=u.charAt(63&t>>8-a%1*8)){if(r=s.charCodeAt(a+=.75),r>255)throw new n;t=t<<8|r}return i}var o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";n.prototype=new Error,n.prototype.code=5,n.prototype.name=\"InvalidCharacterError\",e.exports=r},function(e,t,n){\"use strict\";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,s,i){var a=[];a.push(e+\"=\"+encodeURIComponent(t)),r.isNumber(n)&&a.push(\"expires=\"+new Date(n).toGMTString()),r.isString(o)&&a.push(\"path=\"+o),r.isString(s)&&a.push(\"domain=\"+s),i===!0&&a.push(\"secure\"),document.cookie=a.join(\"; \")},read:function(e){var t=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+e+\")=([^;]*)\"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,\"\",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){\"use strict\";function r(){this.handlers=[]}var o=n(2);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){\"use strict\";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var o=n(2),s=n(18),i=n(19),a=n(5);e.exports=function(e){r(e),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],function(t){delete e.headers[t]});var t=e.adapter||a.adapter;return t(e).then(function(t){return r(e),t.data=s(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(r(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){\"use strict\";var r=n(2);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t){\"use strict\";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t){\"use strict\";e.exports=function(e){return/^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(e)}},function(e,t){\"use strict\";e.exports=function(e,t){return e.replace(/\\/+$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\")}},function(e,t){\"use strict\";function n(e){this.message=e}n.prototype.toString=function(){return\"Cancel\"+(this.message?\": \"+this.message:\"\")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,n){\"use strict\";function r(e){if(\"function\"!=typeof e)throw new TypeError(\"executor must be a function.\");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}var o=n(22);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e,t=new r(function(t){e=t});return{token:t,cancel:e}},e.exports=r},function(e,t){\"use strict\";e.exports=function(e){return function(t){return e.apply(null,t)}}}])});\n//# sourceMappingURL=axios.min.map","import Axios from 'axios';\r\n\r\nclass BallpenGlobalWrapper {\r\n    static set(Ballpen) {\r\n        Ballpen.registerPlugin = BallpenGlobalWrapper.registerPlugin;\r\n\r\n        // Build-in plugins\r\n        Ballpen.$http = Axios;\r\n\r\n        // Global variables\r\n        Ballpen.$refs = {};\r\n    }\r\n\r\n    static registerPlugin(alias, pluginEntity) {\r\n        Ballpen[`$${alias}`] = pluginEntity;\r\n    }\r\n}\r\n\r\nexport default BallpenGlobalWrapper;\r\n","import BallpenUtil from './ballpen-util.js';\r\nimport BallpenGlobalWrapper from './ballpen-global-wrapper.js';\r\n\r\nclass Ballpen {\r\n\r\n    constructor(el, dataModel) { \r\n        this.$dataModel = dataModel;\r\n\r\n        // Set $refs, $http, etc those global sets before initializaiton\r\n        BallpenGlobalWrapper.set(Ballpen);\r\n\r\n        this.lifecycleHookPoint('beforeRender', this.$dataModel, () => {\r\n            // Init EventList\r\n            this.init(el, this.$dataModel);\r\n            // Scan directives\r\n            this.scan(this.$el);\r\n        });\r\n    };\r\n\r\n    lifecycleHookPoint(type, dataModel, fn = null) {\r\n        let rawData = dataModel.data;\r\n\r\n        if (type === 'beforeRender' && dataModel.lifecycle && dataModel.lifecycle.beforeRender) {\r\n            new Promise((resolve, reject) => {\r\n                return dataModel.lifecycle.beforeRender.call(this, resolve, reject, rawData);\r\n            }).then(() => {\r\n                fn && fn.call(this, dataModel);\r\n            }).catch((err) => {});\r\n        } else if (type === 'afterRender' && dataModel.lifecycle && dataModel.lifecycle.afterRender) {\r\n            dataModel.lifecycle.afterRender.call(this, rawData);\r\n        } else {\r\n            fn && fn.call(this, dataModel);\r\n        }\r\n    };\r\n\r\n    init(el, dataModel) {\r\n        this.$el = document.querySelector(el);\r\n\r\n        // Handle invalid root element\r\n        if (!this.$el) {\r\n            BallpenUtil.throwError(`Find an invalid root element when initializing Ballpen.js -> \"${el}\"`, 'Well, you should set a valid root element for Ballpen.js first constructor parameter, eg: \"#app\", \"#container\".');  \r\n        }\r\n\r\n        if (dataModel.events) {\r\n            this.$eventList = {};\r\n            this.initEventList(dataModel.events);\r\n        }\r\n\r\n        if (dataModel.data) {\r\n            // Set proxy to global data payload\r\n            this.$dataListPure = dataModel.data;\r\n            // Set an alias for pure data\r\n            this.data = this.$dataListPure;\r\n\r\n            this.$dataList = BallpenUtil.clone(dataModel.data);\r\n        }\r\n\r\n        if (dataModel.watchers) {\r\n            // Find every reference node in datalist\r\n            this.watchersHook = BallpenUtil.findReferenceNode(this.$dataList);\r\n\r\n            let _watchers = dataModel.watchers;\r\n\r\n            for (let _watcher in _watchers) {\r\n                const _watcherEntity = {\r\n                    root: _watcher,\r\n                    handler: _watchers[_watcher].handler\r\n                };\r\n\r\n                this.watchersHook.forEach((watcherQueue, path) => {\r\n                    if (new RegExp('^' + _watcher, 'ig').test(path)) {\r\n                        watcherQueue.push(_watcherEntity);\r\n                    }\r\n                });\r\n            }\r\n\r\n            // Mount watchers\r\n            this.watchersHook.forEach((watcherQueue, path) => {\r\n                BallpenUtil.renderObjectValueByPath(this.$dataList, path, this.setProxy(path, watcherQueue));\r\n            });\r\n        }\r\n\r\n        // Other initializations\r\n        this.$registers = [];\r\n    };\r\n\r\n    setProxy(path, watcherQueue) {\r\n        let _dist = BallpenUtil.parseData(path, this.$dataList).data;\r\n        let _oldVal = BallpenUtil.parseData(path, this.$dataListPure).data;\r\n\r\n        let handler = {\r\n            get: (_target, _property) => {\r\n                // Run callback\r\n                watcherQueue.forEach((entity) => {\r\n                    let _fn = entity.handler;\r\n                    let _path = entity.root;\r\n\r\n                    // _fn && _fn.call(this, BallpenUtil.parseData(_path, this.$dataListPure).data, BallpenUtil.parseData(_path, this.$dataList).data);\r\n                });\r\n                \r\n                return _target[_property];\r\n            },\r\n            set: (_target, _property, _value, receiver) => {\r\n                // Run callback\r\n                if (_value !== _oldVal[_property]) {\r\n                    let _pureVal;\r\n\r\n                    if (BallpenUtil.isReferenceType(_value)) {\r\n                        _oldVal[_property] = BallpenUtil.clone(_value);\r\n                        _pureVal = BallpenUtil.clone(_value);\r\n                    } else {\r\n                        _oldVal[_property] = _value;\r\n                        _pureVal = _value;\r\n                    }\r\n\r\n                    // Update pure data\r\n                    BallpenUtil.renderObjectValueByPath(this.$dataListPure, `${path}.${_property}`, _pureVal);\r\n                    \r\n                    _target[_property] = _value;\r\n\r\n                    watcherQueue.forEach((entity) => {\r\n                        let _fn = entity.handler;\r\n                        let _path = entity.root;\r\n\r\n                        _fn && _fn.call(this, BallpenUtil.parseData(_path, this.$dataListPure).data, BallpenUtil.parseData(_path, this.$dataList).data);\r\n                    });\r\n                }\r\n\r\n                // Return true to accept the changes\r\n                return true;\r\n            },\r\n            defineProperty: (target, prop, descriptor) => {\r\n                return Reflect.defineProperty(target, prop, descriptor);\r\n            }\r\n        };\r\n\r\n        // Can not set a proxy on a single value (!! need to be fixed !!)\r\n        return new Proxy(_dist, handler);\r\n    };\r\n\r\n    initEventList(eventList) {\r\n        if (eventList) {\r\n            let _thisEventObject = eventList;\r\n            for (let item in _thisEventObject) {\r\n                this.$eventList[item]      = {};\r\n                this.$eventList[item].type = '';\r\n                this.$eventList[item].fn   = _thisEventObject[item];\r\n            }\r\n        }\r\n    };\r\n\r\n    scan(el, init = true) {\r\n        for (let i = 0; i < el.children.length; i++) {\r\n            let _thisNode = el.children[i];\r\n     \r\n            // Bind\r\n            if (_thisNode.hasAttributes()) {\r\n                let _attrs = _thisNode.attributes;\r\n                let _attrsArr = [];\r\n\r\n                for (let i = 0; i < _attrs.length; i++) {\r\n                    const _attr = _attrs.item(i);\r\n                    _attrsArr.push(_attr.name);\r\n\r\n                    if (/bp-event/ig.test(_attr.name)) {\r\n                        _thisNode.removeAttribute(_attr.name);\r\n\r\n                        let eventBindedList = [];\r\n                        let _i = _attr;\r\n\r\n                        if (/bp-event:/ig.test(_i.name)) {\r\n                            // Single event\r\n                            eventBindedList.push({\r\n                                _fnType: _i.name.split(':')[1],\r\n                                _fnName: _i.value \r\n                            });\r\n                        } else {\r\n                            // Multi events\r\n                            let bindArrs = _i.value.match(/[a-zA-Z]+:[a-zA-Z0-9_$]+/ig);\r\n                            bindArrs.forEach((binder) => {\r\n                                eventBindedList.push({\r\n                                    _fnType: binder.split(':')[0],\r\n                                    _fnName: binder.split(':')[1] \r\n                                });\r\n                            });\r\n                        }\r\n\r\n                        eventBindedList.forEach((eventBinded) => {\r\n                            let _fnType = eventBinded._fnType;\r\n                            let _fnName = eventBinded._fnName;\r\n\r\n                            this.bindEvent(_thisNode, _fnName, _fnType, this.$dataList, {});\r\n                        });\r\n                    }\r\n\r\n                    if (/bp-bind/ig.test(_attr.name)) {\r\n                        _thisNode.removeAttribute(_attr.name);\r\n\r\n                        let attrsBindedList = [];\r\n                        let _i = _attr;\r\n\r\n                        if (/bp-bind:/ig.test(_i.name)) {\r\n                            // Single event\r\n                            attrsBindedList.push({\r\n                                _bindKey: _i.name.split(':')[1],\r\n                                _thisSubModelAbs: _i.value \r\n                            });\r\n                        } else {\r\n                            // Multi events\r\n                            let bindArrs = _i.value.match(/[a-zA-Z0-9_$-]+:[a-zA-Z0-9_$.]+/ig);\r\n                            bindArrs.forEach((binder) => {\r\n                                attrsBindedList.push({\r\n                                    _bindKey: binder.split(':')[0],\r\n                                    _thisSubModelAbs: binder.split(':')[1] \r\n                                });\r\n                            });\r\n                        }\r\n\r\n                        attrsBindedList.forEach((attrsBinded) => {\r\n                            let _bindKey = attrsBinded._bindKey;\r\n                            let _thisSubModelAbs = attrsBinded._thisSubModelAbs;\r\n\r\n                            this.bindBind(_thisNode, _thisSubModelAbs, _bindKey);\r\n                        });\r\n                    }\r\n                }\r\n\r\n                if (_attrsArr.includes('bp-pre')) {\r\n                    this.bindPre(_thisNode);\r\n                    continue;\r\n                }\r\n\r\n                if (_attrsArr.includes('bp-for')) {\r\n                    this.bindFor(_thisNode);\r\n                    continue;\r\n                }\r\n\r\n                if (_attrsArr.includes('bp-model')) {\r\n                    this.bindModel(_thisNode);\r\n                }\r\n\r\n                if (_attrsArr.includes('bp-class')) {\r\n                    this.bindClass(_thisNode);\r\n                }\r\n\r\n                if (_attrsArr.includes('bp-show')) {\r\n                    this.bindShow(_thisNode);\r\n                }\r\n\r\n                if (_attrsArr.includes('bp-ref')) {\r\n                    this.bindRef(_thisNode);\r\n                }\r\n            }\r\n\r\n            // Moustache binding\r\n            let childNodes = _thisNode.childNodes;\r\n            childNodes.forEach((item, key) => {\r\n                if (item.nodeType === Node.TEXT_NODE) {\r\n                    this.bindMoustache(_thisNode, item);\r\n                }\r\n            });\r\n\r\n            // Recursion\r\n            if (_thisNode.children.length > 0) {\r\n                this.scan(_thisNode, false);\r\n            }\r\n        }\r\n\r\n        if (init) {\r\n            // Attach observers\r\n            this.attach();\r\n            // Show rendered view\r\n            this.$el.removeAttribute('bp-shade');\r\n\r\n            // Lifecycle hook\r\n            this.lifecycleHookPoint('afterRender', this.$dataModel);\r\n        }   \r\n    };\r\n\r\n    bindRef(el) {\r\n        let key = el.getAttribute('bp-ref');\r\n\r\n        if (BallpenUtil.isArray(Ballpen.$refs[key])) {\r\n            Ballpen.$refs[key].push(el);\r\n        } else {\r\n            Ballpen.$refs[key] = [];\r\n            Ballpen.$refs[key].push(el);\r\n        }\r\n\r\n        el.removeAttribute('bp-ref');\r\n    };\r\n\r\n    bindShow(el, rootPath = []) {\r\n        const modelName = BallpenUtil.wrapAbsPath(rootPath, el.getAttribute('bp-show')); \r\n\r\n        BallpenUtil.ignoreInnerDirectives(modelName, [], (el) => {\r\n            const model = BallpenUtil.parseData(modelName, this.$dataList);\r\n\r\n            const elStyle = el.style;\r\n \r\n            (!model.data ? elStyle.display = 'none' : (elStyle.removeProperty ? elStyle.removeProperty('display') : elStyle.removeAttribute('display')));\r\n\r\n            this.register(this.$dataList, this.$dataListPure, model.path, (yetVal, nowVal) => {\r\n                (!nowVal ? elStyle.display = 'none' : (elStyle.removeProperty ? elStyle.removeProperty('display') : elStyle.removeAttribute('display')));\r\n            });\r\n        }, el);\r\n\r\n        el.removeAttribute('bp-show');\r\n    };\r\n\r\n    bindModel(el, rootPath = []) {\r\n        const modelName = BallpenUtil.wrapAbsPath(rootPath, el.getAttribute('bp-model'));\r\n\r\n        BallpenUtil.ignoreInnerDirectives(modelName, [/^@{([\\d]+)}$/ig], (el) => {\r\n            // Handel 'for' list index\r\n            if (/^@{([\\d]+)}$/ig.test(modelName)) {\r\n                let index = modelName.match(/^@{([\\d]+)}$/)[1];\r\n\r\n                (el.tagName === 'INPUT' ? el.value = index : el.innerText = index);\r\n            } else {\r\n                const model = BallpenUtil.parseData(modelName, this.$dataList);\r\n\r\n                (el.tagName === 'INPUT' ? el.value = model.data : el.innerText = model.data);\r\n\r\n                this.register(this.$dataList, this.$dataListPure, model.path, (yetVal, nowVal) => {\r\n                    (el.tagName === 'INPUT' ? el.value = nowVal : el.innerText = nowVal);\r\n                });\r\n            }\r\n        }, el);\r\n\r\n        el.removeAttribute('bp-model');\r\n    };\r\n\r\n    bindMoustache(el, subTextNode, rootPath = []) {\r\n        let subTextNodeValuePure = subTextNode.nodeValue;\r\n        let subTextNodeValueRendered = subTextNode.nodeValue;\r\n        let subPatterns = subTextNodeValueRendered.match(/{{.*?}}/ig);\r\n        let modelsMapper = {};\r\n\r\n        if (BallpenUtil.isArray(subPatterns) && subPatterns.length > 0) {\r\n            subPatterns.forEach((pattern) => {\r\n                let modelName = pattern.slice(2, -2).trim();\r\n\r\n                if (/^@{([\\d]+)}$/ig.test(modelName)) {\r\n                    modelsMapper[pattern] = modelName.match(/^@{([\\d]+)}$/)[1];\r\n                } else {\r\n                    let model = BallpenUtil.parseData(BallpenUtil.wrapAbsPath(rootPath, modelName), this.$dataList);\r\n                    modelsMapper[pattern] = model.data;\r\n\r\n                    this.register(this.$dataList, this.$dataListPure, model.path, (yetVal, nowVal) => {\r\n                        modelsMapper[`{{ ${model.path.join('.')} }}`] = nowVal;\r\n                        for (let pattern in modelsMapper) {\r\n                            subTextNodeValueRendered = subTextNodeValuePure.replace(pattern, modelsMapper[pattern]);\r\n                        }\r\n\r\n                        subTextNode.nodeValue = subTextNodeValueRendered;\r\n                    });\r\n                }\r\n            });\r\n            \r\n            for (let pattern in modelsMapper) {\r\n                subTextNodeValueRendered = subTextNodeValuePure.replace(pattern, modelsMapper[pattern]);\r\n            }      \r\n        }\r\n\r\n        subTextNode.nodeValue = subTextNodeValueRendered;\r\n    };\r\n\r\n    bindClass(el, rootPath = []) {\r\n        const modelName = BallpenUtil.wrapAbsPath(rootPath, el.getAttribute('bp-class'));\r\n\r\n        BallpenUtil.ignoreInnerDirectives(modelName, [], (el) => {\r\n            const model = BallpenUtil.parseData(modelName, this.$dataList);\r\n\r\n            if (!el.classList.contains(model.data)) {\r\n                el.classList.add(model.data);\r\n            }\r\n\r\n            this.register(this.$dataList, this.$dataListPure, model.path, (yetVal, nowVal) => {\r\n                el.classList.remove(yetVal);\r\n                if (!el.classList.contains(nowVal)) {\r\n                    el.classList.add(nowVal);\r\n                }\r\n            });\r\n        }, el);\r\n\r\n        el.removeAttribute('bp-class');\r\n    };\r\n\r\n    bindPre(el) {\r\n        el.removeAttribute('bp-pre');\r\n    }\r\n\r\n    bindEvent(el, _fnName, _fnType, context, args = {}) {\r\n        BallpenUtil.ignoreInnerDirectives(_fnName, [], (el, _fnName, _fnType, context) => {\r\n            // Update global event list\r\n            this.$eventList[_fnName]['type'] = _fnType;\r\n            \r\n            // Bind listener, set callback fn to global data context\r\n            el.addEventListener(_fnType, () => {\r\n                this.$eventList[_fnName]['fn'].call(this.$dataList, el, context, args);\r\n            });\r\n        }, el, _fnName, _fnType, context, args);\r\n    };\r\n\r\n    bindBind(el, _bindValue, _bindKey, rootPath = []) {\r\n        BallpenUtil.ignoreInnerDirectives(_bindValue, [], (el, _bindValue, _bindKey) => {\r\n            const modelName = BallpenUtil.wrapAbsPath(rootPath, _bindValue);\r\n            const model = BallpenUtil.parseData(modelName, this.$dataList);\r\n\r\n            // Set customized attribute\r\n            el.setAttribute(_bindKey, model.data);\r\n            \r\n            // Bind listener, set callback fn to global data context\r\n            this.register(this.$dataList, this.$dataListPure, model.path, (yetVal, nowVal) => {\r\n                el.setAttribute(_bindKey, nowVal);\r\n            });\r\n        }, el, _bindValue, _bindKey);\r\n    };\r\n\r\n    bindFor(el, scope = {}, indexStack = {}) {\r\n        const modelPaths = el.getAttribute('bp-for').split(/\\s+in\\s+/);\r\n        const _pScope = modelPaths[1];\r\n        const _cScope = modelPaths[0];\r\n        const _identifyKey = BallpenUtil.randomSequence(12);\r\n\r\n        if (!/^@/ig.test(_cScope)) {\r\n            BallpenUtil.throwError(`Invalid alias name when initializing a \"bp-for\" condition -> \"${_cScope}\".`, 'Please make sure the alias name is start with a \"@\" symbol.');  \r\n        }\r\n        \r\n        // Update scope array\r\n        if (/\\./ig.test(_pScope)) {\r\n            const _t = _pScope.split('.');\r\n            scope[_pScope] = scope[_t[0]] + '.' + _t[1];\r\n        } else {\r\n            scope[_pScope] = _pScope;\r\n        }\r\n\r\n        // Set closure variables\r\n        let closureScope = BallpenUtil.clone(scope);\r\n        let closureIndexStack = BallpenUtil.clone(indexStack);\r\n\r\n        const model = BallpenUtil.parseData(scope[_pScope], this.$dataList);\r\n        \r\n        let parentNode = el.parentNode;\r\n        let virtualDiv = document.createDocumentFragment();\r\n\r\n        for (let i = 0; i < model.data.length; i++) {\r\n            let _div = el.cloneNode(true);\r\n            let _dataPath = `${scope[_pScope]}.${i}`;\r\n\r\n            // Update current scope chain\r\n            scope[_cScope] = _dataPath;\r\n\r\n            // Update current index chain\r\n            indexStack[_cScope] = i;\r\n\r\n            _div.removeAttribute('bp-for');\r\n            _div.setAttribute('bp-for-rendered-id', _identifyKey);\r\n\r\n            this.bindForItemsRecursion(_div, scope, indexStack, _dataPath, i, true, (el) => {\r\n                virtualDiv.appendChild(el);\r\n            });\r\n        }\r\n\r\n        parentNode.replaceChild(virtualDiv, el);\r\n\r\n        // Set register\r\n        this.register(this.$dataList, this.$dataListPure, model.path, (yetVal, nowVal) => {\r\n            let virtualDiv = document.createDocumentFragment();\r\n\r\n            for (let i = 0; i < nowVal.length; i++) {\r\n                let _div = el.cloneNode(true);\r\n                let _dataPath = `${closureScope[_pScope]}.${i}`;\r\n\r\n                // Update current scope chain\r\n                closureScope[_cScope] = _dataPath;\r\n\r\n                // Update current index chain\r\n                closureIndexStack[_cScope] = i;\r\n\r\n                _div.removeAttribute('bp-for');\r\n                _div.setAttribute('bp-for-rendered-id', _identifyKey);\r\n\r\n                this.bindForItemsRecursion(_div, closureScope, closureIndexStack, _dataPath, i, true, (el) => {\r\n                    virtualDiv.appendChild(el);\r\n                });\r\n            }\r\n\r\n            let replaceChilds = parentNode.querySelectorAll(`[bp-for-rendered-id='${_identifyKey}']`);\r\n            for (let i = 0; i < replaceChilds.length; i++) {\r\n                if (i === 0) {\r\n                    parentNode.replaceChild(virtualDiv, replaceChilds.item(i));\r\n                } else {\r\n                    replaceChilds.item(i).remove();\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    bindForItemsRecursion(el, scope, indexStack, data, itemIndex, isInit = false, fn = false) {\r\n        let child = !!BallpenUtil.isHTMLCollection(el);\r\n\r\n        for (let j = 0; j < (child ? el.length : 1); j++) {\r\n            const _thisNode = (child ? el[j] : el);\r\n\r\n            // Render moustache\r\n            let childNodes = _thisNode.childNodes;\r\n            childNodes.forEach((item, key) => {\r\n                if (item.nodeType === Node.TEXT_NODE) {\r\n                    let subTextNodeValuePure = item.nodeValue;\r\n                    let subTextNodeValueRendered = item.nodeValue;\r\n\r\n                    let subPatterns = subTextNodeValueRendered.match(/{{.*?}}/ig);\r\n                    let modelsMapper = {};\r\n\r\n                    if (BallpenUtil.isArray(subPatterns) && subPatterns.length > 0) {\r\n                        subPatterns.forEach((pattern) => {\r\n                            let _thisSubModel = pattern.slice(2, -2).trim();\r\n                            let _thisSubModelAbs = _thisSubModel;\r\n\r\n                            if (/^@/ig.test(_thisSubModel)) {\r\n                            // Get index\r\n                                if (/\\[\\[index\\]\\]/ig.test(_thisSubModel)) {\r\n                                    _thisSubModelAbs = '@{' + `${indexStack[_thisSubModel.match(/^(.*)\\[\\[index\\]\\]$/)[1]]}` + '}';\r\n                                } else {\r\n                                    _thisSubModelAbs = _thisSubModel.replace(/^@[a-z0-9A-Z_]*/, scope[_thisSubModel.split('.')[0]]);  \r\n                                }\r\n                            }\r\n\r\n                            modelsMapper[pattern] = `{{ ${_thisSubModelAbs} }}`;\r\n                        });\r\n                        \r\n                        for (let pattern in modelsMapper) {\r\n                            subTextNodeValueRendered = subTextNodeValuePure.replace(pattern, modelsMapper[pattern]);\r\n                        }      \r\n                    }\r\n\r\n                    item.nodeValue = subTextNodeValueRendered;\r\n\r\n                    this.bindMoustache(_thisNode, item);\r\n                }\r\n            });\r\n\r\n            if (!_thisNode.hasAttributes() && child) {\r\n                if (_thisNode.children.length > 0) {\r\n                    this.bindForItemsRecursion(_thisNode.children, scope, indexStack, data, itemIndex);\r\n                }\r\n                continue;\r\n            }\r\n\r\n            // Bind normal render tag\r\n            let _attrsMain = _thisNode.attributes;\r\n            let _attrsArr = [];\r\n\r\n            for (let i = 0; i < _attrsMain.length; i++) {\r\n                let _i = _attrsMain.item(i);\r\n                _attrsArr.push(_i.name);\r\n\r\n                // Bind event\r\n                if (/bp-event/ig.test(_i.name)) {\r\n                    let eventBindedList = [];\r\n\r\n                    if (/bp-event:/ig.test(_i.name)) {\r\n                        // Single event\r\n                        eventBindedList.push({\r\n                            _fnType: _i.name.split(':')[1],\r\n                            _fnName: _i.value \r\n                        });\r\n                    } else {\r\n                        // Multi events\r\n                        let bindArrs = _i.value.match(/[a-zA-Z]+:[a-zA-Z0-9_$]+/ig);\r\n                        bindArrs.forEach((binder) => {\r\n                            eventBindedList.push({\r\n                                _fnType: binder.split(':')[0],\r\n                                _fnName: binder.split(':')[1] \r\n                            });\r\n                        });\r\n                    }\r\n\r\n                    eventBindedList.forEach((eventBinded) => {\r\n                        let _fnType = eventBinded._fnType;\r\n                        let _fnName = eventBinded._fnName;\r\n\r\n                        if (/^@:/ig.test(_fnName)) {\r\n                            this.bindEvent(_thisNode, _fnName.split(':')[1], _fnType, this.$dataList, {\r\n                                index: itemIndex\r\n                            });\r\n                        } else {\r\n                            this.bindEvent(_thisNode, _fnName, _fnType, this.$dataList, {});\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (/bp-bind/ig.test(_i.name)) {\r\n                    let attrsBindedList = [];\r\n\r\n                    if (/bp-bind:/ig.test(_i.name)) {\r\n                        // Single event\r\n                        attrsBindedList.push({\r\n                            _bindKey: _i.name.split(':')[1],\r\n                            _thisSubModelAbs: _i.value \r\n                        });\r\n                    } else {\r\n                        // Multi events\r\n                        let bindArrs = _i.value.match(/[a-zA-Z0-9_$-]+:[a-zA-Z0-9_$.]+/ig);\r\n                        bindArrs.forEach((binder) => {\r\n                            attrsBindedList.push({\r\n                                _bindKey: binder.split(':')[0],\r\n                                _thisSubModelAbs: binder.split(':')[1] \r\n                            });\r\n                        });\r\n                    }\r\n\r\n                    attrsBindedList.forEach((attrsBinded) => {\r\n                        let _bindKey = attrsBinded._bindKey;\r\n                        let _thisSubModelAbs = attrsBinded._thisSubModelAbs;\r\n\r\n                        if (/^@/ig.test(_thisSubModelAbs)) {\r\n                            _thisSubModelAbs = _thisSubModelAbs.replace(/^@[a-z0-9A-Z_]*/, scope[_thisSubModelAbs.split('.')[0]]);\r\n                        }\r\n\r\n                        this.bindBind(_thisNode, _thisSubModelAbs, _bindKey);\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Render 'for' list in another 'for' list\r\n            if (_attrsArr.includes('bp-for')) {\r\n                this.bindFor(_thisNode, scope, indexStack);\r\n                continue;\r\n            }\r\n\r\n            if (_attrsArr.includes('bp-ref')) {\r\n                this.bindRef(_thisNode);\r\n            }\r\n\r\n            if (_attrsArr.includes('bp-class')) {\r\n                let _thisSubModel = _thisNode.getAttribute('bp-class');  \r\n                let _thisSubModelAbs = _thisSubModel;\r\n\r\n                if (/^@/ig.test(_thisSubModel)) {\r\n                    _thisSubModelAbs = _thisSubModel.replace(/^@[a-z0-9A-Z_]*/, scope[_thisSubModel.split('.')[0]]);\r\n                }\r\n\r\n                if (_thisSubModelAbs !== _thisSubModel) {\r\n                    _thisNode.setAttribute('bp-class', _thisSubModelAbs);\r\n                }\r\n\r\n                this.bindClass(_thisNode);\r\n            }\r\n\r\n            if (_attrsArr.includes('bp-model')) {\r\n                let _thisSubModel = _thisNode.getAttribute('bp-model');\r\n                let _thisSubModelAbs = _thisSubModel;\r\n\r\n                if (/^@/ig.test(_thisSubModel)) {\r\n                    // Get index\r\n                    if (/\\[\\[index\\]\\]/ig.test(_thisSubModel)) {\r\n                        _thisSubModelAbs = '@{' + `${indexStack[_thisSubModel.match(/^(.*)\\[\\[index\\]\\]$/)[1]]}` + '}';\r\n                    } else if (/@{\\d+}/ig.test(_thisSubModel)) {\r\n                        _thisSubModelAbs = _thisSubModel;\r\n                    } else {\r\n                        _thisSubModelAbs = _thisSubModel.replace(/^@[a-z0-9A-Z_]*/, scope[_thisSubModel.split('.')[0]]);  \r\n                    }\r\n                }\r\n                \r\n                if (_thisSubModelAbs !== _thisSubModel) {\r\n                    _thisNode.setAttribute('bp-model', _thisSubModelAbs);\r\n                }\r\n\r\n                this.bindModel(_thisNode);\r\n            }\r\n\r\n            if (_attrsArr.includes('bp-show')) {\r\n                let _thisSubModel = _thisNode.getAttribute('bp-show');\r\n                let _thisSubModelAbs = _thisSubModel;\r\n\r\n                if (/^@/ig.test(_thisSubModel)) {\r\n                    _thisSubModelAbs = _thisSubModel.replace(/^@[a-z0-9A-Z_]*/, scope[_thisSubModel.split('.')[0]]);\r\n                }\r\n\r\n                if (_thisSubModelAbs !== _thisSubModel) {\r\n                    _thisNode.setAttribute('bp-show', _thisSubModelAbs);\r\n                }\r\n\r\n                this.bindShow(_thisNode);\r\n            }\r\n\r\n            if (_thisNode.children.length > 0) {\r\n                this.bindForItemsRecursion(_thisNode.children, scope, indexStack, data, itemIndex);\r\n            }\r\n        }\r\n\r\n        if (isInit) {\r\n            fn && fn.call(this, el);\r\n        }\r\n    };\r\n\r\n    observePath(obj, rootPath, paths, fns) {\r\n        if (BallpenUtil.isArray(paths)) {\r\n            let _path = obj;\r\n            let _key;\r\n\r\n            paths.forEach((key, index) => {\r\n                if (/^\\d+$/.test(key)) {\r\n                    key = parseInt(key);\r\n                }\r\n\r\n                if (index < paths.length - 1) {\r\n                    _path = _path[key];\r\n                } else {    \r\n                    _key = key;\r\n                }\r\n            });\r\n\r\n            rootPath = paths.join('.');\r\n\r\n            this.observeKey(_path, rootPath, _key, fns);\r\n        }\r\n    };\r\n\r\n    observeKey(obj, rootPath, key, fns = false) {            \r\n        if (BallpenUtil.isArray(key)) {\r\n            this.observePath(obj, rootPath, key, fns);\r\n        } else {\r\n            let yetVal = obj[key];\r\n            const currentPath = rootPath;\r\n           \r\n            if (BallpenUtil.isObject(yetVal)) {\r\n                Object.defineProperty(obj, key, {\r\n                    get: () => {\r\n                        return yetVal;\r\n                    },\r\n                    set: (nowVal) => {  \r\n                        if (nowVal !== yetVal) {\r\n                            fns && fns.forEach((fn) => {\r\n                                fn.call(this, yetVal, nowVal);\r\n                            });\r\n\r\n                            yetVal = nowVal;\r\n\r\n                            BallpenUtil.renderObjectValueByPath(this.$dataListPure, currentPath, nowVal);\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n\r\n                Object.keys(yetVal).forEach((key) => {\r\n                    this.observeKey(yetVal, currentPath + '.' + key, key, fns);\r\n                });\r\n            } else if (BallpenUtil.isArray(yetVal)) {\r\n                Object.defineProperty(obj, key, {\r\n                    get: () => {\r\n                        return yetVal;\r\n                    },\r\n                    set: (nowVal) => {  \r\n                        if (nowVal !== yetVal) {\r\n                            fns && fns.forEach((fn) => {\r\n                                fn.call(this, yetVal, nowVal);\r\n                            });\r\n\r\n                            yetVal = nowVal;\r\n\r\n                            BallpenUtil.renderObjectValueByPath(this.$dataListPure, currentPath, nowVal);\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n\r\n                this.observeArray(yetVal, currentPath, fns);\r\n            } else {\r\n                Object.defineProperty(obj, key, {\r\n                    get: () => {\r\n                        return yetVal;\r\n                    },\r\n                    set: (nowVal) => {  \r\n                        if (nowVal !== yetVal) {\r\n                            fns && fns.forEach((fn) => {\r\n                                fn.call(this, yetVal, nowVal);\r\n                            });\r\n\r\n                            yetVal = nowVal;\r\n\r\n                            BallpenUtil.renderObjectValueByPath(this.$dataListPure, currentPath, nowVal);\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n            }\r\n        }\r\n    };\r\n    \r\n    observeArray(arr, rootPath, fns = false) {\r\n        const mutatorMethods = ['copyWithin', 'fill', 'pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'];\r\n        const arrayProto = Array.prototype;\r\n\r\n        // Prevent from polluting the global 'Array.prototype'\r\n        const hijackProto = Object.create(arrayProto);\r\n\r\n        const currentPath = rootPath;\r\n\r\n        mutatorMethods.forEach((method) => {\r\n            Object.defineProperty(hijackProto, method, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                writable: true,\r\n                value: (...args) => {\r\n                    let yetVal = arr.slice();\r\n                    let resultVal = arrayProto[method].call(arr, ...args);\r\n                    let nowVal = arr;\r\n\r\n                    BallpenUtil.renderObjectValueByPath(this.$dataListPure, currentPath, nowVal);\r\n                    // Callback\r\n                    fns && fns.forEach((fn) => {\r\n                        fn.call(this, yetVal, nowVal);\r\n                    }); \r\n\r\n                    return resultVal;\r\n                } \r\n            });\r\n        });\r\n        /* eslint-disable */\r\n        arr.__proto__ = hijackProto;\r\n        // arr.__proto__.__proto__ === Array.prototype; // true\r\n    };\r\n\r\n    register(obj, objPure, key, fn) {\r\n        const register = this.$registers.find((item) => {\r\n            if (Object.is(item.obj, obj) && (item.key === key || item.key.toString() === key.toString())) {\r\n                return item;\r\n            }\r\n        });\r\n\r\n        if (register) {\r\n            register.fns.push(fn);\r\n        } else {\r\n            this.$registers.push({\r\n                obj: obj,\r\n                rootPath: [],\r\n                key: key,\r\n                fns: [fn]\r\n            });\r\n        }\r\n    };\r\n\r\n    attach() {\r\n        this.$registers.forEach((register) => {\r\n            this.observeKey(register.obj, register.rootPath, register.key, register.fns);\r\n        });\r\n    };\r\n\r\n}\r\n\r\nexport default Ballpen;\r\n"],"names":["BallpenUtil","obj","map","Map","root","_root","isObject","_i","isArray","set","slice","findReferenceNode","forEach","_index","Object","prototype","toString","call","arr","Array","collection","path","val","_paths","split","parseData","data","throwError","length","i","str","dataObj","_list","_data","p","key","index","push","directiveValue","exceptList","fn","args","regexp","test","this","copy","Date","setTime","getTime","len","clone","attr","hasOwnProperty","rootPath","relPath","join","err","desc","_e","Error","name","n","chars","res","id","Math","ceil","random","e","t","exports","module","axios","r","o","loaded","m","c","s","request","extend","a","u","Axios","create","merge","Cancel","CancelToken","isCancel","all","Promise","spread","default","C","FormData","ArrayBuffer","isView","buffer","f","d","l","h","pipe","y","URLSearchParams","w","replace","g","window","document","createElement","v","x","arguments","b","E","isArrayBuffer","isFormData","isArrayBufferView","isString","isNumber","isUndefined","isDate","isFile","isBlob","isFunction","isStream","isURLSearchParams","isStandardBrowserEnv","trim","apply","defaults","interceptors","response","url","method","baseURL","resolve","unshift","fulfilled","rejected","then","shift","XMLHttpRequest","process","Content-Type","adapter","transformRequest","JSON","stringify","transformResponse","parse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","headers","common","Accept","toUpperCase","btoa","bind","XDomainRequest","onprogress","ontimeout","auth","username","password","Authorization","open","params","paramsSerializer","readyState","status","responseURL","indexOf","getAllResponseHeaders","responseType","responseText","statusText","config","onerror","withCredentials","read","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","abort","send","code","encodeURIComponent","toISOString","substr","setAttribute","href","protocol","host","search","hash","hostname","port","pathname","charAt","navigator","userAgent","location","message","String","charCodeAt","write","toGMTString","cookie","match","RegExp","decodeURIComponent","remove","now","handlers","use","eject","throwIfRequested","reject","__CANCEL__","TypeError","reason","source","token","cancel","BallpenGlobalWrapper","Ballpen","registerPlugin","$http","$refs","alias","pluginEntity","el","dataModel","$dataModel","lifecycleHookPoint","init","_this","scan","$el","type","rawData","lifecycle","beforeRender","catch","afterRender","querySelector","events","$eventList","initEventList","$dataListPure","$dataList","watchers","watchersHook","_watchers","_watcher","_watcherEntity","handler","watcherQueue","renderObjectValueByPath","_this3","setProxy","$registers","_dist","_oldVal","_target","_property","entity","_value","receiver","_pureVal","isReferenceType","_this4","_fn","_path","target","prop","descriptor","Reflect","defineProperty","Proxy","eventList","_thisEventObject","item","_thisNode","children","hasAttributes","_attrs","attributes","_attrsArr","_attr","removeAttribute","eventBindedList","value","bindArrs","binder","eventBinded","_fnType","_fnName","bindEvent","_this5","attrsBindedList","attrsBinded","_bindKey","_thisSubModelAbs","bindBind","includes","bindPre","bindFor","bindModel","bindClass","bindShow","bindRef","childNodes","nodeType","Node","TEXT_NODE","bindMoustache","attach","getAttribute","modelName","wrapAbsPath","ignoreInnerDirectives","model","_this6","elStyle","style","removeProperty","display","register","yetVal","nowVal","tagName","innerText","_this7","subTextNode","subTextNodeValuePure","nodeValue","subTextNodeValueRendered","subPatterns","modelsMapper","pattern","_this8","_this9","classList","contains","add","context","_this10","_bindValue","_this11","scope","indexStack","modelPaths","_pScope","_cScope","_identifyKey","randomSequence","_t","closureScope","closureIndexStack","parentNode","virtualDiv","createDocumentFragment","_div","cloneNode","_dataPath","bindForItemsRecursion","appendChild","replaceChild","replaceChilds","querySelectorAll","itemIndex","isInit","child","isHTMLCollection","j","_thisSubModel","_attrsMain","_this13","paths","fns","_key","parseInt","observeKey","observePath","currentPath","_this15","keys","observeArray","mutatorMethods","arrayProto","hijackProto","resultVal","_this16","__proto__","objPure","find","is"],"mappings":"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"}