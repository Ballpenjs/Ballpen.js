!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Ballpen=t()}(this,function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function t(){e(this,t)}return l(t,null,[{key:"findReferenceNode",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=r;if(t.isObject(e))for(var i in e)(t.isObject(e[i])||t.isArray(e[i]))&&(o+=i+".",n.set(o.slice(0,-1),[]),t.findReferenceNode(e[i],n,o));else t.isArray(e)&&e.forEach(function(e,r){(t.isObject(e)||t.isArray(e))&&(o+=r+".",n.set(o.slice(0,-1),[]),t.findReferenceNode(e,n,o))});return n}},{key:"isHTMLCollection",value:function(e){return"[object HTMLCollection]"===Object.prototype.toString.call(e)}},{key:"isArray",value:function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)}},{key:"toArray",value:function(e){return Array.prototype.slice.call(e)}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isReferenceType",value:function(e){return t.isObject(e)||t.isArray(e)}},{key:"renderObjectValueByPath",value:function(e,n,r){var o=n.split(".");if("undefined"==typeof t.parseData(n,e).data&&t.throwError('Find an invalid watcher path when initializing Ballpen.js -> "'+n+'"',"Please make sure the watcher path you set is exist and valid."),1===o.length)e[o[0]]=r;else for(var i=0;i<o.length-1;i++)e=e[o[i]],e||t.throwError('Find an invalid watcher path when initializing Ballpen.js -> "'+n+'"',"Please make sure the watcher path you set is exist and valid."),i===o.length-2&&(e[o[o.length-1]]=r)}},{key:"parseData",value:function(e,t){var n=e.split("."),r=t,o=[];return n.forEach(function(e,n){0===n?(r=t[e],o.push(e)):(r=r[e],o.push(e))}),{path:o,data:r}}},{key:"ignoreInnerDirectives",value:function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=this;t.forEach(function(t){t.test(e)&&n&&n.call.apply(n,[a].concat(o))}),/^@/gi.test(e)||n&&n.call.apply(n,[this].concat(o))}},{key:"clone",value:function(e){var n=void 0;if(null===e||"object"!==("undefined"==typeof e?"undefined":s(e)))return e;if(e instanceof Date)return n=new Date,n.setTime(e.getTime()),n;if(e instanceof Array){n=[];for(var r=0,o=e.length;r<o;r++)n[r]=t.clone(e[r]);return n}if(e instanceof Object){n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t.clone(e[i]));return n}t.throwError("Internal error, unable to copy object, type is not supported.","Please contact the author to fix this issue.")}},{key:"wrapAbsPath",value:function(e,n){return(t.isArray(e)&&e.length>0?e.join(".")+".":e.toString().length>0?e.toString()+".":"")+(t.isArray(n)&&n.length>0?n.join("."):n.toString().length>0?n.toString():"")}},{key:"randomSequence",value:function(e){for(var t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n="",r=0;r<e;r++){var o=Math.ceil(35*Math.random());n+=t[o]}return n}}]),t}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(){function e(){t(this,e)}return f(e,null,[{key:"observePath",value:function(t,n,r,o){c.isArray(r)&&!function(){var i=t,a=void 0;r.forEach(function(e,t){/^\d+$/.test(e)&&(e=parseInt(e)),t<r.length-1?i=i[e]:a=e}),n=r.join("."),e.observeKey(i,n,a,o)}()}},{key:"observeKey",value:function(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c.isArray(r)?e.observePath(t,n,r,i):!function(){var a=t[r],u=n;c.isObject(a)?(Object.defineProperty(t,r,{get:function(){return a},set:function(e){e!==a&&(i&&i.forEach(function(t){t.call(o,a,e)}),a=e,c.renderObjectValueByPath(o.$dataListPure,u,e))},enumerable:!0,configurable:!0}),Object.keys(a).forEach(function(t){e.observeKey(a,u+"."+t,t,i)})):c.isArray(a)?(Object.defineProperty(t,r,{get:function(){return a},set:function(e){e!==a&&(i&&i.forEach(function(t){t.call(o,a,e)}),a=e,c.renderObjectValueByPath(o.$dataListPure,u,e))},enumerable:!0,configurable:!0}),e.observeArray(a,u,i)):Object.defineProperty(t,r,{get:function(){return a},set:function(e){e!==a&&(i&&i.forEach(function(t){t.call(o,a,e)}),a=e,c.renderObjectValueByPath(o.$dataListPure,u,e))},enumerable:!0,configurable:!0})}()}},{key:"observeArray",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"],i=Array.prototype,a=Object.create(i),u=t;o.forEach(function(t){Object.defineProperty(a,t,{enumerable:!0,configurable:!0,writable:!0,value:function(){for(var o,a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];var f=e.slice(),d=(o=i[t]).call.apply(o,[e].concat(s)),p=e;return c.renderObjectValueByPath(n.$dataListPure,u,p),r&&r.forEach(function(e){e.call(n,f,p)}),d}})}),e.__proto__=a}},{key:"register",value:function e(t,n,r,o,i){var e=t.find(function(e){if(Object.is(e.obj,n)&&(e.key===o||e.key.toString()===o.toString()))return e});e?e.fns.push(i):t.push({obj:n,rootPath:[],key:o,fns:[i]})}},{key:"attach",value:function(t){t.forEach(function(t){e.observeKey(t.obj,t.rootPath,t.key,t.fns)})}}]),e}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(){function e(){n(this,e)}return p(e,null,[{key:"errorEntity",value:function(e){return{INIT_INVALID_ROOT:{err:'Find an invalid root element when initializing Ballpen.js -> "'+e+'"',desc:'Well, you should set a valid root element for Ballpen.js first constructor parameter, eg: "#app", "#container".'},BIND_FOR_INVALID_ALIAS:{err:'Invalid alias name when initializing a "bp-for" condition -> "'+e+'".',desc:'Please make sure the alias name is start with a "@" symbol.'}}}},{key:"throw",value:function(e){var t=e.err,n=e.desc,r=new Error("[Ballpen Parser Error] \n\n [Message] \n\n - "+t+" \n\n [Description] \n\n - "+n+" \n");throw r.name="BallpenError",r}},{key:"trigger",value:function(t,n){e.throw(e.errorEntity(n)[t])}}]),e}(),y="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},v=r(function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,o){"object"==n(t)&&"object"==n(e)?e.exports=o():"object"==n(t)?t.axios=o():r.axios=o()}(y,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){function r(e){var t=new a(e),n=i(a.prototype.request,t);return o.extend(n,a.prototype,t),o.extend(n,t),n}var o=n(2),i=n(3),a=n(4),u=n(5),s=r(u);s.Axios=a,s.create=function(e){return r(o.merge(u,e))},s.Cancel=n(22),s.CancelToken=n(23),s.isCancel=n(19),s.all=function(e){return Promise.all(e)},s.spread=n(24),e.exports=s,e.exports.default=s},function(e,t,r){function o(e){return"[object Array]"===A.call(e)}function i(e){return"[object ArrayBuffer]"===A.call(e)}function a(e){return"undefined"!=typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function l(e){return"number"==typeof e}function c(e){return"undefined"==typeof e}function f(e){return null!==e&&"object"==("undefined"==typeof e?"undefined":n(e))}function d(e){return"[object Date]"===A.call(e)}function p(e){return"[object File]"===A.call(e)}function h(e){return"[object Blob]"===A.call(e)}function y(e){return"[object Function]"===A.call(e)}function v(e){return f(e)&&y(e.pipe)}function g(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function m(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function b(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function w(e,t){if(null!==e&&"undefined"!=typeof e)if("object"==("undefined"==typeof e?"undefined":n(e))||o(e)||(e=[e]),o(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function S(){function e(e,r){"object"==n(t[r])&&"object"==("undefined"==typeof e?"undefined":n(e))?t[r]=S(t[r],e):t[r]=e}for(var t={},r=0,o=arguments.length;r<o;r++)w(arguments[r],e);return t}function x(e,t,n){return w(t,function(t,r){n&&"function"==typeof t?e[r]=k(t,n):e[r]=t}),e}var k=r(3),A=Object.prototype.toString;e.exports={isArray:o,isArrayBuffer:i,isFormData:a,isArrayBufferView:u,isString:s,isNumber:l,isObject:f,isUndefined:c,isDate:d,isFile:p,isBlob:h,isFunction:y,isStream:v,isURLSearchParams:g,isStandardBrowserEnv:b,forEach:w,merge:S,extend:x,trim:m}},function(e,t){e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var o=n(5),i=n(2),a=n(16),u=n(17),s=n(20),l=n(21);r.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(o,this.defaults,{method:"get"},e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url));var t=[u,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head"],function(e){r.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function o(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(7):"undefined"!=typeof process&&(e=n(7)),e}var i=n(2),a=n(6),u=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"},l={adapter:o(),transformRequest:[function(e,t){return a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(u,"");try{e=JSON.parse(e)}catch(e){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){l.headers[e]={}}),i.forEach(["post","put","patch"],function(e){l.headers[e]=i.merge(s)}),e.exports=l},function(e,t,n){var r=n(2);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){var r=n(2),o=n(8),i=n(11),a=n(12),u=n(13),s=n(9),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(14);e.exports=function(e){return new Promise(function(t,c){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||u(e.url)||(p=new window.XDomainRequest,h="onload",y=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var v=e.auth.username||"",g=e.auth.password||"";d.Authorization="Basic "+l(v+":"+g)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||y)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,i={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};o(t,c,i),p=null}},p.onerror=function(){c(s("Network Error",e)),p=null},p.ontimeout=function(){c(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),p=null},r.isStandardBrowserEnv()){var m=n(15),b=(e.withCredentials||u(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){"undefined"==typeof f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(e){if("json"!==p.responseType)throw e}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),c(e),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(e,t,n){var r=n(9);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n)):e(n)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n,o){var i=new Error(e);return r(i,t,n,o)}},function(e,t){e.exports=function(e,t,n,r){return e.config=t,n&&(e.code=n),e.response=r,e}},function(e,t,n){function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(2);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(o.isURLSearchParams(t))i=t.toString();else{var a=[];o.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(o.isArray(e)&&(t+="[]"),o.isArray(e)||(e=[e]),o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),i=a.join("&")}return i&&(e+=(e.indexOf("?")===-1?"?":"&")+i),e}},function(e,t,n){var r=n(2);e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}},function(e,t,n){var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(n){var o=r.isString(n)?e(n):n;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t){function n(){this.message="String contains an invalid character"}function r(e){for(var t,r,i=String(e),a="",u=0,s=o;i.charAt(0|u)||(s="=",u%1);a+=s.charAt(63&t>>8-u%1*8)){if(r=i.charCodeAt(u+=.75),r>255)throw new n;t=t<<8|r}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=r},function(e,t,n){var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,a){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){function r(){this.handlers=[]}var o=n(2);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var o=n(2),i=n(18),a=n(19),u=n(5);e.exports=function(e){r(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=e.adapter||u.adapter;return t(e).then(function(t){return r(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(r(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){var r=n(2);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t){e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t){e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t){function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,n){function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}var o=n(22);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e,t=new r(function(t){e=t});return{token:t,cancel:e}},e.exports=r},function(e,t){e.exports=function(e){return function(t){return e.apply(null,t)}}}])})}),g=r(function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){function r(e){function t(t,n,r,o,i,a){for(;i>=0&&i<a;i+=e){var u=o?o[i]:i;r=n(r,t[u],u,t)}return r}return function(n,r,o,i){r=x(r,i,4);var a=!C(n)&&S.keys(n),u=(a||n).length,s=e>0?0:u-1;return arguments.length<3&&(o=n[a?a[s]:s],s+=e),t(n,r,o,a,s,u)}}function o(e){return function(t,n,r){n=k(n,r);for(var o=T(t),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(n(t[i],i,t))return i;return-1}}function i(e,t,n){return function(r,o,i){var a=0,u=T(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+u,a):u=i>=0?Math.min(i+1,u):i+u+1;else if(n&&i&&u)return i=n(r,o),r[i]===o?i:-1;if(o!==o)return i=t(p.call(r,a,u),S.isNaN),i>=0?i+a:-1;for(i=e>0?a:u-1;i>=0&&i<u;i+=e)if(r[i]===o)return i;return-1}}function a(e,t){var n=R.length,r=e.constructor,o=S.isFunction(r)&&r.prototype||c,i="constructor";for(S.has(e,i)&&!S.contains(t,i)&&t.push(i);n--;)i=R[n],i in e&&e[i]!==o[i]&&!S.contains(t,i)&&t.push(i)}var u=this,s=u._,l=Array.prototype,c=Object.prototype,f=Function.prototype,d=l.push,p=l.slice,h=c.toString,y=c.hasOwnProperty,v=Array.isArray,g=Object.keys,m=f.bind,b=Object.create,w=function(){},S=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};e.exports&&(t=e.exports=S),t._=S,S.VERSION="1.8.3";var x=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?S.identity:S.isFunction(e)?x(e,t,n):S.isObject(e)?S.matcher(e):S.property(e)};S.iteratee=function(e,t){return k(e,t,1/0)};var A=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=e(i),u=a.length,s=0;s<u;s++){var l=a[s];t&&void 0!==n[l]||(n[l]=i[l])}return n}},P=function(e){if(!S.isObject(e))return{};if(b)return b(e);w.prototype=e;var t=new w;return w.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e]}},j=Math.pow(2,53)-1,T=E("length"),C=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=j};S.each=S.forEach=function(e,t,n){t=x(t,n);var r,o;if(C(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else{var i=S.keys(e);for(r=0,o=i.length;r<o;r++)t(e[i[r]],i[r],e)}return e},S.map=S.collect=function(e,t,n){t=k(t,n);for(var r=!C(e)&&S.keys(e),o=(r||e).length,i=Array(o),a=0;a<o;a++){var u=r?r[a]:a;i[a]=t(e[u],u,e)}return i},S.reduce=S.foldl=S.inject=r(1),S.reduceRight=S.foldr=r(-1),S.find=S.detect=function(e,t,n){var r;if(r=C(e)?S.findIndex(e,t,n):S.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},S.filter=S.select=function(e,t,n){var r=[];return t=k(t,n),S.each(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r},S.reject=function(e,t,n){return S.filter(e,S.negate(k(t)),n)},S.every=S.all=function(e,t,n){t=k(t,n);for(var r=!C(e)&&S.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(!t(e[a],a,e))return!1}return!0},S.some=S.any=function(e,t,n){t=k(t,n);for(var r=!C(e)&&S.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(t(e[a],a,e))return!0}return!1},S.contains=S.includes=S.include=function(e,t,n,r){return C(e)||(e=S.values(e)),("number"!=typeof n||r)&&(n=0),S.indexOf(e,t,n)>=0},S.invoke=function(e,t){var n=p.call(arguments,2),r=S.isFunction(t);return S.map(e,function(e){var o=r?t:e[t];return null==o?o:o.apply(e,n)})},S.pluck=function(e,t){return S.map(e,S.property(t))},S.where=function(e,t){return S.filter(e,S.matcher(t))},S.findWhere=function(e,t){return S.find(e,S.matcher(t))},S.max=function(e,t,n){var r,o,i=-(1/0),a=-(1/0);if(null==t&&null!=e){e=C(e)?e:S.values(e);for(var u=0,s=e.length;u<s;u++)r=e[u],r>i&&(i=r)}else t=k(t,n),S.each(e,function(e,n,r){o=t(e,n,r),(o>a||o===-(1/0)&&i===-(1/0))&&(i=e,a=o)});return i},S.min=function(e,t,n){var r,o,i=1/0,a=1/0;if(null==t&&null!=e){e=C(e)?e:S.values(e);for(var u=0,s=e.length;u<s;u++)r=e[u],r<i&&(i=r)}else t=k(t,n),S.each(e,function(e,n,r){o=t(e,n,r),(o<a||o===1/0&&i===1/0)&&(i=e,a=o)});return i},S.shuffle=function(e){for(var t,n=C(e)?e:S.values(e),r=n.length,o=Array(r),i=0;i<r;i++)t=S.random(0,i),t!==i&&(o[i]=o[t]),o[t]=n[i];return o},S.sample=function(e,t,n){return null==t||n?(C(e)||(e=S.values(e)),e[S.random(e.length-1)]):S.shuffle(e).slice(0,Math.max(0,t))},S.sortBy=function(e,t,n){return t=k(t,n),S.pluck(S.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var _=function(e){return function(t,n,r){var o={};return n=k(n,r),S.each(t,function(r,i){var a=n(r,i,t);e(o,r,a)}),o}};S.groupBy=_(function(e,t,n){S.has(e,n)?e[n].push(t):e[n]=[t]}),S.indexBy=_(function(e,t,n){e[n]=t}),S.countBy=_(function(e,t,n){S.has(e,n)?e[n]++:e[n]=1}),S.toArray=function(e){return e?S.isArray(e)?p.call(e):C(e)?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:C(e)?e.length:S.keys(e).length},S.partition=function(e,t,n){t=k(t,n);var r=[],o=[];return S.each(e,function(e,n,i){(t(e,n,i)?r:o).push(e)}),[r,o]},S.first=S.head=S.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:S.initial(e,e.length-t)},S.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},S.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:S.rest(e,Math.max(0,e.length-t))},S.rest=S.tail=S.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var O=function e(t,n,r,o){for(var i=[],a=0,u=o||0,s=T(t);u<s;u++){var l=t[u];if(C(l)&&(S.isArray(l)||S.isArguments(l))){n||(l=e(l,n,r));var c=0,f=l.length;for(i.length+=f;c<f;)i[a++]=l[c++]}else r||(i[a++]=l)}return i};S.flatten=function(e,t){return O(e,t,!1)},S.without=function(e){return S.difference(e,p.call(arguments,1))},S.uniq=S.unique=function(e,t,n,r){S.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var o=[],i=[],a=0,u=T(e);a<u;a++){var s=e[a],l=n?n(s,a,e):s;t?(a&&i===l||o.push(s),i=l):n?S.contains(i,l)||(i.push(l),o.push(s)):S.contains(o,s)||o.push(s)}return o},S.union=function(){return S.uniq(O(arguments,!0,!0))},S.intersection=function(e){for(var t=[],n=arguments.length,r=0,o=T(e);r<o;r++){var i=e[r];if(!S.contains(t,i)){for(var a=1;a<n&&S.contains(arguments[a],i);a++);a===n&&t.push(i)}}return t},S.difference=function(e){var t=O(arguments,!0,!0,1);return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){return S.unzip(arguments)},S.unzip=function(e){for(var t=e&&S.max(e,T).length||0,n=Array(t),r=0;r<t;r++)n[r]=S.pluck(e,r);return n},S.object=function(e,t){for(var n={},r=0,o=T(e);r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},S.findIndex=o(1),S.findLastIndex=o(-1),S.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var o=n(t),i=0,a=T(e);i<a;){var u=Math.floor((i+a)/2);n(e[u])<o?i=u+1:a=u}return i},S.indexOf=i(1,S.findIndex,S.sortedIndex),S.lastIndexOf=i(-1,S.findLastIndex),S.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;i<r;i++,e+=n)o[i]=e;return o};var N=function(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=P(e.prototype),a=e.apply(i,o);return S.isObject(a)?a:i};S.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,p.call(arguments,1));if(!S.isFunction(e))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),r=function r(){return N(e,r,t,this,n.concat(p.call(arguments)))};return r},S.partial=function(e){var t=p.call(arguments,1),n=function n(){for(var r=0,o=t.length,i=Array(o),a=0;a<o;a++)i[a]=t[a]===S?arguments[r++]:t[a];for(;r<arguments.length;)i.push(arguments[r++]);return N(e,n,this,this,i)};return n},S.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=S.bind(e[n],e);return e},S.memoize=function(e,t){var n=function n(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return S.has(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n},S.delay=function(e,t){var n=p.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},S.defer=S.partial(S.delay,S,1),S.throttle=function(e,t,n){var r,o,i,a=null,u=0;n||(n={});var s=function(){u=n.leading===!1?0:S.now(),a=null,i=e.apply(r,o),a||(r=o=null)};return function(){var l=S.now();u||n.leading!==!1||(u=l);var c=t-(l-u);return r=this,o=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),u=l,i=e.apply(r,o),a||(r=o=null)):a||n.trailing===!1||(a=setTimeout(s,c)),i}},S.debounce=function(e,t,n){var r,o,i,a,u,s=function s(){var l=S.now()-a;l<t&&l>=0?r=setTimeout(s,t-l):(r=null,n||(u=e.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=S.now();var l=n&&!r;return r||(r=setTimeout(s,t)),l&&(u=e.apply(i,o),i=o=null),u}},S.wrap=function(e,t){return S.partial(t,e)},S.negate=function(e){return function(){return!e.apply(this,arguments)}},S.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},S.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},S.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},S.once=S.partial(S.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];S.keys=function(e){if(!S.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)S.has(e,n)&&t.push(n);return I&&a(e,t),t},S.allKeys=function(e){if(!S.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&a(e,t),t},S.values=function(e){for(var t=S.keys(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=e[t[o]];return r},S.mapObject=function(e,t,n){t=k(t,n);for(var r,o=S.keys(e),i=o.length,a={},u=0;u<i;u++)r=o[u],a[r]=t(e[r],r,e);return a},S.pairs=function(e){for(var t=S.keys(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=[t[o],e[t[o]]];return r},S.invert=function(e){for(var t={},n=S.keys(e),r=0,o=n.length;r<o;r++)t[e[n[r]]]=n[r];return t},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=A(S.allKeys),S.extendOwn=S.assign=A(S.keys),S.findKey=function(e,t,n){t=k(t,n);for(var r,o=S.keys(e),i=0,a=o.length;i<a;i++)if(r=o[i],t(e[r],r,e))return r},S.pick=function(e,t,n){var r,o,i={},a=e;if(null==a)return i;S.isFunction(t)?(o=S.allKeys(a),r=x(t,n)):(o=O(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var u=0,s=o.length;u<s;u++){var l=o[u],c=a[l];r(c,l,a)&&(i[l]=c)}return i},S.omit=function(e,t,n){if(S.isFunction(t))t=S.negate(t);else{var r=S.map(O(arguments,!1,!1,1),String);t=function(e,t){return!S.contains(r,t)}}return S.pick(e,t,n)},S.defaults=A(S.allKeys,!0),S.create=function(e,t){var n=P(e);return t&&S.extendOwn(n,t),n},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e},S.isMatch=function(e,t){var n=S.keys(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var a=n[i];if(t[a]!==o[a]||!(a in o))return!1}return!0};var L=function e(t,r,o,i){if(t===r)return 0!==t||1/t===1/r;if(null==t||null==r)return t===r;t instanceof S&&(t=t._wrapped),r instanceof S&&(r=r._wrapped);var a=h.call(t);if(a!==h.call(r))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+r;case"[object Number]":return+t!==+t?+r!==+r:0===+t?1/+t===1/r:+t===+r;case"[object Date]":case"[object Boolean]":return+t===+r}var u="[object Array]"===a;if(!u){if("object"!=("undefined"==typeof t?"undefined":n(t))||"object"!=("undefined"==typeof r?"undefined":n(r)))return!1;var s=t.constructor,l=r.constructor;if(s!==l&&!(S.isFunction(s)&&s instanceof s&&S.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in r)return!1}o=o||[],i=i||[];for(var c=o.length;c--;)if(o[c]===t)return i[c]===r;if(o.push(t),i.push(r),u){if(c=t.length,c!==r.length)return!1;for(;c--;)if(!e(t[c],r[c],o,i))return!1}else{var f,d=S.keys(t);if(c=d.length,S.keys(r).length!==c)return!1;for(;c--;)if(f=d[c],!S.has(r,f)||!e(t[f],r[f],o,i))return!1}return o.pop(),
i.pop(),!0};S.isEqual=function(e,t){return L(e,t)},S.isEmpty=function(e){return null==e||(C(e)&&(S.isArray(e)||S.isString(e)||S.isArguments(e))?0===e.length:0===S.keys(e).length)},S.isElement=function(e){return!(!e||1!==e.nodeType)},S.isArray=v||function(e){return"[object Array]"===h.call(e)},S.isObject=function(e){var t="undefined"==typeof e?"undefined":n(e);return"function"===t||"object"===t&&!!e},S.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){S["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),S.isArguments(arguments)||(S.isArguments=function(e){return S.has(e,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":n(Int8Array))&&(S.isFunction=function(e){return"function"==typeof e||!1}),S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!==+e},S.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return null!=e&&y.call(e,t)},S.noConflict=function(){return u._=s,this},S.identity=function(e){return e},S.constant=function(e){return function(){return e}},S.noop=function(){},S.property=E,S.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},S.matcher=S.matches=function(e){return e=S.extendOwn({},e),function(t){return S.isMatch(t,e)}},S.times=function(e,t,n){var r=Array(Math.max(0,e));t=x(t,n,1);for(var o=0;o<e;o++)r[o]=t(o);return r},S.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},S.now=Date.now||function(){return(new Date).getTime()};var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=S.invert(V),D=function(e){var t=function(t){return e[t]},n="(?:"+S.keys(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}};S.escape=D(V),S.unescape=D(F),S.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),S.isFunction(r)?r.call(e):r};var B=0;S.uniqueId=function(e){var t=++B+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+z[e]};S.template=function(e,t,n){!t&&n&&(t=n),t=S.defaults({},t,S.templateSettings);var r=RegExp([(t.escape||$).source,(t.interpolate||$).source,(t.evaluate||$).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,function(t,n,r,a,u){return i+=e.slice(o,u).replace(M,q),o=u+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(t.variable||"obj","_",i)}catch(e){throw e.source=i,e}var u=function(e){return a.call(this,e,S)},s=t.variable||"obj";return u.source="function("+s+"){\n"+i+"}",u},S.chain=function(e){var t=S(e);return t._chain=!0,t};var H=function(e,t){return e._chain?S(t).chain():t};S.mixin=function(e){S.each(S.functions(e),function(t){var n=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),H(this,n.apply(S,e))}})},S.mixin(S),S.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];S.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),S.each(["concat","join","slice"],function(e){var t=l[e];S.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),S.prototype.value=function(){return this._wrapped},S.prototype.valueOf=S.prototype.toJSON=S.prototype.value,S.prototype.toString=function(){return""+this._wrapped}}).call(y)}),m=r(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function n(e){var t=e.length,n=r.type(e);return"function"!==n&&!r.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}if(!e.jQuery){var r=function e(t,n){return new e.fn.init(t,n)};r.isWindow=function(e){return e&&e===e.window},r.type=function(e){return e?"object"===("undefined"==typeof e?"undefined":t(e))||"function"==typeof e?i[u.call(e)]||"object":"undefined"==typeof e?"undefined":t(e):e+""},r.isArray=Array.isArray||function(e){return"array"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||a.call(e,t)},r.each=function(e,t,r){var o,i=0,a=e.length,u=n(e);if(r){if(u)for(;i<a&&(o=t.apply(e[i],r),o!==!1);i++);else for(i in e)if(e.hasOwnProperty(i)&&(o=t.apply(e[i],r),o===!1))break}else if(u)for(;i<a&&(o=t.call(e[i],i,e[i]),o!==!1);i++);else for(i in e)if(e.hasOwnProperty(i)&&(o=t.call(e[i],i,e[i]),o===!1))break;return e},r.data=function(e,t,n){if(void 0===n){var i=e[r.expando],a=i&&o[i];if(void 0===t)return a;if(a&&t in a)return a[t]}else if(void 0!==t){var u=e[r.expando]||(e[r.expando]=++r.uuid);return o[u]=o[u]||{},o[u][t]=n,n}},r.removeData=function(e,t){var n=e[r.expando],i=n&&o[n];i&&(t?r.each(t,function(e,t){delete i[t]}):delete o[n])},r.extend=function(){var e,n,o,i,a,u,s=arguments[0]||{},l=1,c=arguments.length,f=!1;for("boolean"==typeof s&&(f=s,s=arguments[l]||{},l++),"object"!==("undefined"==typeof s?"undefined":t(s))&&"function"!==r.type(s)&&(s={}),l===c&&(s=this,l--);l<c;l++)if(a=arguments[l])for(i in a)a.hasOwnProperty(i)&&(e=s[i],o=a[i],s!==o&&(f&&o&&(r.isPlainObject(o)||(n=r.isArray(o)))?(n?(n=!1,u=e&&r.isArray(e)?e:[]):u=e&&r.isPlainObject(e)?e:{},s[i]=r.extend(f,u,o)):void 0!==o&&(s[i]=o)));return s},r.queue=function(e,t,o){function i(e,t){var r=t||[];return e&&(n(Object(e))?!function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;)e[o++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[o++]=t[r++];return e.length=o,e}(r,"string"==typeof e?[e]:e):[].push.call(r,e)),r}if(e){t=(t||"fx")+"queue";var a=r.data(e,t);return o?(!a||r.isArray(o)?a=r.data(e,t,i(o)):a.push(o),a):a||[]}},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,function(e,n){t=t||"fx";var o=r.queue(n,t),i=o.shift();"inprogress"===i&&(i=o.shift()),i&&("fx"===t&&o.unshift("inprogress"),i.call(n,function(){r.dequeue(n,t)}))})},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position;)t=t.offsetParent;return t||document}var t=this[0],n=e(t),o=this.offset(),i=/^(?:body|html)$/i.test(n.nodeName)?{top:0,left:0}:r(n).offset();return o.top-=parseFloat(t.style.marginTop)||0,o.left-=parseFloat(t.style.marginLeft)||0,n.style&&(i.top+=parseFloat(n.style.borderTopWidth)||0,i.left+=parseFloat(n.style.borderLeftWidth)||0),{top:o.top-i.top,left:o.left-i.left}}};var o={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var i={},a=i.hasOwnProperty,u=i.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<s.length;l++)i["[object "+s[l]+"]"]=s[l].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(n){"object"===t(e)&&"object"===t(e.exports)?e.exports=n():n()}(function(){return function(e,t,n,r){function o(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var o=e[t];o&&r.push(o)}return r}function i(e){return b.isWrapped(e)?e=m.call(e):b.isNode(e)&&(e=[e]),e}function a(e){var t=h.data(e,"velocity");return null===t?r:t}function u(e,t){var n=a(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-t+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function s(e,t){var n=a(e);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function l(e){return function(t){return Math.round(t*e)*(1/e)}}function c(e,n,r,o){function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function u(e){return 3*e}function s(e,t,n){return((i(t,n)*e+a(t,n))*e+u(t))*e}function l(e,t,n){return 3*i(t,n)*e*e+2*a(t,n)*e+u(t)}function c(t,n){for(var o=0;o<y;++o){var i=l(n,e,r);if(0===i)return n;var a=s(n,e,r)-t;n-=a/i}return n}function f(){for(var t=0;t<b;++t)k[t]=s(t*w,e,r)}function d(t,n,o){var i,a,u=0;do a=n+(o-n)/2,i=s(a,e,r)-t,i>0?o=a:n=a;while(Math.abs(i)>g&&++u<m);return a}function p(t){for(var n=0,o=1,i=b-1;o!==i&&k[o]<=t;++o)n+=w;--o;var a=(t-k[o])/(k[o+1]-k[o]),u=n+a*w,s=l(u,e,r);return s>=v?c(t,u):0===s?u:d(t,n,n+w)}function h(){A=!0,e===n&&r===o||f()}var y=4,v=.001,g=1e-7,m=10,b=11,w=1/(b-1),S="Float32Array"in t;if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var k=S?new Float32Array(b):new Array(b),A=!1,P=function(t){return A||h(),e===n&&r===o?t:0===t?0:1===t?1:s(p(t),n,o)};P.getControlPoints=function(){return[{x:e,y:n},{x:r,y:o}]};var E="generateBezier("+[e,n,r,o]+")";return P.toString=function(){return E},P}function f(e,t){var n=e;return b.isString(e)?k.Easings[e]||(n=!1):n=b.isArray(e)&&1===e.length?l.apply(null,e):b.isArray(e)&&2===e.length?A.apply(null,e.concat([t])):!(!b.isArray(e)||4!==e.length)&&c.apply(null,e),n===!1&&(n=k.Easings[k.defaults.easing]?k.defaults.easing:x),n}function d(e){if(e){var t=k.timestamp&&e!==!0?e:g.now(),n=k.State.calls.length;n>1e4&&(k.State.calls=o(k.State.calls),n=k.State.calls.length);for(var i=0;i<n;i++)if(k.State.calls[i]){var u=k.State.calls[i],s=u[0],l=u[2],c=u[3],f=!!c,v=null,m=u[5],w=u[6];if(c||(c=k.State.calls[i][3]=t-16),m){if(m.resume!==!0)continue;c=u[3]=Math.round(t-w-16),u[5]=null}w=u[6]=t-c;for(var S=Math.min(w/l.duration,1),x=0,A=s.length;x<A;x++){var E=s[x],T=E.element;if(a(T)){var C=!1;if(l.display!==r&&null!==l.display&&"none"!==l.display){if("flex"===l.display){var _=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];h.each(_,function(e,t){P.setPropertyValue(T,"display",t)})}P.setPropertyValue(T,"display",l.display)}l.visibility!==r&&"hidden"!==l.visibility&&P.setPropertyValue(T,"visibility",l.visibility);for(var O in E)if(E.hasOwnProperty(O)&&"element"!==O){var N,I=E[O],R=b.isString(I.easing)?k.Easings[I.easing]:I.easing;if(b.isString(I.pattern)){var L=1===S?function(e,t,n){var r=I.endValue[t];return n?Math.round(r):r}:function(e,t,n){var r=I.startValue[t],o=I.endValue[t]-r,i=r+o*R(S,l,o);return n?Math.round(i):i};N=I.pattern.replace(/{(\d+)(!)?}/g,L)}else if(1===S)N=I.endValue;else{var V=I.endValue-I.startValue;N=I.startValue+V*R(S,l,V)}if(!f&&N===I.currentValue)continue;if(I.currentValue=N,"tween"===O)v=N;else{var F;if(P.Hooks.registered[O]){F=P.Hooks.getRoot(O);var D=a(T).rootPropertyValueCache[F];D&&(I.rootPropertyValue=D)}var B=P.setPropertyValue(T,O,I.currentValue+(y<9&&0===parseFloat(N)?"":I.unitType),I.rootPropertyValue,I.scrollData);P.Hooks.registered[O]&&(P.Normalizations.registered[F]?a(T).rootPropertyValueCache[F]=P.Normalizations.registered[F]("extract",null,B[1]):a(T).rootPropertyValueCache[F]=B[1]),"transform"===B[0]&&(C=!0)}}l.mobileHA&&a(T).transformCache.translate3d===r&&(a(T).transformCache.translate3d="(0px, 0px, 0px)",C=!0),C&&P.flushTransformCache(T)}}l.display!==r&&"none"!==l.display&&(k.State.calls[i][2].display=!1),l.visibility!==r&&"hidden"!==l.visibility&&(k.State.calls[i][2].visibility=!1),l.progress&&l.progress.call(u[1],u[1],S,Math.max(0,c+l.duration-t),c,v),1===S&&p(i)}}k.State.isTicking&&j(d)}function p(e,t){if(!k.State.calls[e])return!1;for(var n=k.State.calls[e][0],o=k.State.calls[e][1],i=k.State.calls[e][2],u=k.State.calls[e][4],s=!1,l=0,c=n.length;l<c;l++){var f=n[l].element;t||i.loop||("none"===i.display&&P.setPropertyValue(f,"display",i.display),"hidden"===i.visibility&&P.setPropertyValue(f,"visibility",i.visibility));var d=a(f);if(i.loop!==!0&&(h.queue(f)[1]===r||!/\.velocityQueueEntryFlag/i.test(h.queue(f)[1]))&&d){d.isAnimating=!1,d.rootPropertyValueCache={};var p=!1;h.each(P.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,o=d.transformCache[t];d.transformCache[t]!==r&&new RegExp("^\\("+n+"[^.]").test(o)&&(p=!0,delete d.transformCache[t])}),i.mobileHA&&(p=!0,delete d.transformCache.translate3d),p&&P.flushTransformCache(f),P.Values.removeClass(f,"velocity-animating")}if(!t&&i.complete&&!i.loop&&l===c-1)try{i.complete.call(o,o)}catch(e){setTimeout(function(){throw e},1)}u&&i.loop!==!0&&u(o),d&&i.loop===!0&&!t&&(h.each(d.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360===0){var n=t.startValue;t.startValue=t.endValue,t.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),k(f,"reverse",{loop:!0,delay:i.delay})),i.queue!==!1&&h.dequeue(f,i.queue)}k.State.calls[e]=!1;for(var y=0,v=k.State.calls.length;y<v;y++)if(k.State.calls[y]!==!1){s=!0;break}s===!1&&(k.State.isTicking=!1,delete k.State.calls,k.State.calls=[])}var h,y=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return r}(),v=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-e)),e=r+n,setTimeout(function(){t(r+n)},n)}}(),g=function(){var e=t.performance||{};if(!Object.prototype.hasOwnProperty.call(e,"now")){var n=e.timing&&e.timing.domComplete?e.timing.domComplete:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}(),m=function(){var e=Array.prototype.slice;try{e.call(n.documentElement)}catch(t){e=function(){for(var e=this.length,t=[];--e>0;)t[e]=this[e];return t}}return e}(),b={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&b.isNumber(e.length)&&!b.isString(e)&&!b.isFunction(e)&&!b.isNode(e)&&(0===e.length||b.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},w=!1;if(e.fn&&e.fn.jquery?(h=e,w=!0):h=t.Velocity.Utilities,y<=8&&!w)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(y<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var S=400,x="swing",k={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:h,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:S,easing:x,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){h.data(e,"velocity",{isSVG:b.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:4,patch:3},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();h.each(k.State.calls,function(t,n){if(n){if(e!==r&&(n[2].queue!==e||n[2].queue===!1))return!0;n[5]={resume:!1}}}),h.each(k.State.delayedElements,function(e,n){n&&u(n,t)})},resumeAll:function(e){var t=(new Date).getTime();h.each(k.State.calls,function(t,n){if(n){if(e!==r&&(n[2].queue!==e||n[2].queue===!1))return!0;n[5]&&(n[5].resume=!0)}}),h.each(k.State.delayedElements,function(e,n){n&&s(n,t)})}};t.pageYOffset!==r?(k.State.scrollAnchor=t,k.State.scrollPropertyLeft="pageXOffset",k.State.scrollPropertyTop="pageYOffset"):(k.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,k.State.scrollPropertyLeft="scrollLeft",k.State.scrollPropertyTop="scrollTop");var A=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var o={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function n(n,r){var o={dx:n.v,dv:e(n)},i=t(n,.5*r,o),a=t(n,.5*r,i),u=t(n,r,a),s=1/6*(o.dx+2*(i.dx+a.dx)+u.dx),l=1/6*(o.dv+2*(i.dv+a.dv)+u.dv);return n.x=n.x+s*r,n.v=n.v+l*r,n}return function e(t,r,o){var i,a,u,s={x:-1,v:0,tension:null,friction:null},l=[0],c=0,f=1e-4,d=.016;for(t=parseFloat(t)||500,r=parseFloat(r)||20,o=o||null,s.tension=t,s.friction=r,i=null!==o,i?(c=e(t,r),a=c/o*d):a=d;;)if(u=n(u||s,a),l.push(1+u.x),c+=16,!(Math.abs(u.x)>f&&Math.abs(u.v)>f))break;return i?function(e){return l[e*(l.length-1)|0]}:c}}();k.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},h.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){k.Easings[t[0]]=c.apply(null,t[1])});var P=k.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<P.Lists.colors.length;e++){var t="color"===P.Lists.colors[e]?"0 0 0 1":"255 255 255 1";P.Hooks.templates[P.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,r,o;if(y)for(n in P.Hooks.templates)if(P.Hooks.templates.hasOwnProperty(n)){r=P.Hooks.templates[n],o=r[0].split(" ");var i=r[1].match(P.RegEx.valueSplit);"Color"===o[0]&&(o.push(o.shift()),i.push(i.shift()),P.Hooks.templates[n]=[o.join(" "),i.join(" ")])}for(n in P.Hooks.templates)if(P.Hooks.templates.hasOwnProperty(n)){r=P.Hooks.templates[n],o=r[0].split(" ");for(var a in o)if(o.hasOwnProperty(a)){var u=n+o[a],s=a;P.Hooks.registered[u]=[n,s]}}},getRoot:function(e){var t=P.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var n=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&P.Lists.units.indexOf(n)>=0?n:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,t,n){return P.Lists.colorNames.hasOwnProperty(n)?(t?t:"rgba(")+P.Lists.colorNames[n]+(t?"":",1)"):t+n})},cleanRootPropertyValue:function(e,t){return P.RegEx.valueUnwrap.test(t)&&(t=t.match(P.RegEx.valueUnwrap)[1]),P.Values.isCSSNullValue(t)&&(t=P.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=P.Hooks.registered[e];if(n){var r=n[0],o=n[1];return t=P.Hooks.cleanRootPropertyValue(r,t),t.toString().match(P.RegEx.valueSplit)[o]}return t},injectValue:function(e,t,n){var r=P.Hooks.registered[e];if(r){var o,i,a=r[0],u=r[1];return n=P.Hooks.cleanRootPropertyValue(a,n),o=n.toString().match(P.RegEx.valueSplit),o[u]=t,i=o.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var r;return P.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(P.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return k.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var o=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=o?o[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(y<=8)switch(e){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){function e(e,t,n){var r="border-box"===P.getPropertyValue(t,"boxSizing").toString().toLowerCase();if(r===(n||!1)){var o,i,a=0,u="width"===e?["Left","Right"]:["Top","Bottom"],s=["padding"+u[0],"padding"+u[1],"border"+u[0]+"Width","border"+u[1]+"Width"];for(o=0;o<s.length;o++)i=parseFloat(P.getPropertyValue(t,s[o])),isNaN(i)||(a+=i);return n?-a:a}return 0}function t(t,n){return function(r,o,i){switch(r){case"name":return t;case"extract":return parseFloat(i)+e(t,o,n);case"inject":return parseFloat(i)-e(t,o,n)+"px"}}}y&&!(y>9)||k.State.isGingerbread||(P.Lists.transformsBase=P.Lists.transformsBase.concat(P.Lists.transforms3D));for(var n=0;n<P.Lists.transformsBase.length;n++)!function(){var e=P.Lists.transformsBase[n];P.Normalizations.registered[e]=function(t,n,o){switch(t){case"name":return"transform";case"extract":return a(n)===r||a(n).transformCache[e]===r?/^scale/i.test(e)?1:0:a(n).transformCache[e].replace(/[()]/g,"");case"inject":var i=!1;switch(e.substr(0,e.length-1)){case"translate":i=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":k.State.isAndroid&&a(n).transformCache[e]===r&&o<1&&(o=1),i=!/(\d)$/i.test(o);break;case"skew":i=!/(deg|\d)$/i.test(o);break;case"rotate":i=!/(deg|\d)$/i.test(o)}return i||(a(n).transformCache[e]="("+o+")"),a(n).transformCache[e]}}}();for(var o=0;o<P.Lists.colors.length;o++)!function(){var e=P.Lists.colors[o];P.Normalizations.registered[e]=function(t,n,o){switch(t){case"name":return e;case"extract":var i;if(P.RegEx.wrappedValueAlreadyExtracted.test(o))i=o;else{var a,u={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?a=u[o]!==r?u[o]:u.black:P.RegEx.isHex.test(o)?a="rgb("+P.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(a=u.black),i=(a||o).toString().match(P.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!y||y>8)&&3===i.split(" ").length&&(i+=" 1"),i;case"inject":return/^rgb/.test(o)?o:(y<=8?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(y<=8?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();P.Normalizations.registered.innerWidth=t("width",!0),P.Normalizations.registered.innerHeight=t("height",!0),P.Normalizations.registered.outerWidth=t("width"),P.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(y||k.State.isAndroid&&!k.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(k.State.prefixMatches[e])return[k.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,r=t.length;n<r;n++){var o;if(o=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),b.isString(k.State.prefixElement.style[o]))return k.State.prefixMatches[e]=o,[o,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,r){return t+t+n+n+r+r}),t=r.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(b.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var n=e.getAttribute(y<=7?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(b.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(y<=7?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,n,o,i){function u(e,n){var o=0;if(y<=8)o=h.css(e,n);else{var s=!1;/^(width|height)$/.test(n)&&0===P.getPropertyValue(e,"display")&&(s=!0,P.setPropertyValue(e,"display",P.Values.getDisplayType(e)));var l=function(){s&&P.setPropertyValue(e,"display","none")};if(!i){if("height"===n&&"border-box"!==P.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(P.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(P.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(P.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(P.getPropertyValue(e,"paddingBottom"))||0);return l(),c}if("width"===n&&"border-box"!==P.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var f=e.offsetWidth-(parseFloat(P.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(P.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(P.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(P.getPropertyValue(e,"paddingRight"))||0);return l(),f}}var d;d=a(e)===r?t.getComputedStyle(e,null):a(e).computedStyle?a(e).computedStyle:a(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),o=9===y&&"filter"===n?d.getPropertyValue(n):d[n],""!==o&&null!==o||(o=e.style[n]),l()}if("auto"===o&&/^(top|right|bottom|left)$/i.test(n)){var p=u(e,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(n))&&(o=h(e).position()[n]+"px")}return o}var s;if(P.Hooks.registered[n]){var l=n,c=P.Hooks.getRoot(l);o===r&&(o=P.getPropertyValue(e,P.Names.prefixCheck(c)[0])),P.Normalizations.registered[c]&&(o=P.Normalizations.registered[c]("extract",e,o)),s=P.Hooks.extractValue(l,o)}else if(P.Normalizations.registered[n]){var f,d;f=P.Normalizations.registered[n]("name",e),"transform"!==f&&(d=u(e,P.Names.prefixCheck(f)[0]),P.Values.isCSSNullValue(d)&&P.Hooks.templates[n]&&(d=P.Hooks.templates[n][1])),s=P.Normalizations.registered[n]("extract",e,d)}if(!/^[\d-]/.test(s)){var p=a(e);if(p&&p.isSVG&&P.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{
s=e.getBBox()[n]}catch(e){s=0}else s=e.getAttribute(n);else s=u(e,P.Names.prefixCheck(n)[0])}return P.Values.isCSSNullValue(s)&&(s=0),k.debug>=2&&console.log("Get "+n+": "+s),s},setPropertyValue:function(e,n,r,o,i){var u=n;if("scroll"===n)i.container?i.container["scroll"+i.direction]=r:"Left"===i.direction?t.scrollTo(r,i.alternateValue):t.scrollTo(i.alternateValue,r);else if(P.Normalizations.registered[n]&&"transform"===P.Normalizations.registered[n]("name",e))P.Normalizations.registered[n]("inject",e,r),u="transform",r=a(e).transformCache[n];else{if(P.Hooks.registered[n]){var s=n,l=P.Hooks.getRoot(n);o=o||P.getPropertyValue(e,l),r=P.Hooks.injectValue(s,r,o),n=l}if(P.Normalizations.registered[n]&&(r=P.Normalizations.registered[n]("inject",e,r),n=P.Normalizations.registered[n]("name",e)),u=P.Names.prefixCheck(n)[0],y<=8)try{e.style[u]=r}catch(e){k.debug&&console.log("Browser does not support ["+r+"] for ["+u+"]")}else{var c=a(e);c&&c.isSVG&&P.Names.SVGAttribute(n)?e.setAttribute(n,r):e.style[u]=r}k.debug>=2&&console.log("Set "+n+" ("+u+"): "+r)}return[u,r]},flushTransformCache:function(e){var t="",n=a(e);if((y||k.State.isAndroid&&!k.State.isChrome)&&n&&n.isSVG){var r=function(t){return parseFloat(P.getPropertyValue(e,t))},o={translate:[r("translateX"),r("translateY")],skewX:[r("skewX")],skewY:[r("skewY")],scale:1!==r("scale")?[r("scale"),r("scale")]:[r("scaleX"),r("scaleY")],rotate:[r("rotateZ"),0,0]};h.each(a(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),o[e]&&(t+=e+"("+o[e].join(" ")+") ",delete o[e])})}else{var i,u;h.each(a(e).transformCache,function(n){return i=a(e).transformCache[n],"transformPerspective"===n?(u=i,!0):(9===y&&"rotateZ"===n&&(n="rotate"),void(t+=n+i+" "))}),u&&(t="perspective"+u+" "+t)}P.setPropertyValue(e,"transform",t)}};P.Hooks.register(),P.Normalizations.register(),k.hook=function(e,t,n){var o;return e=i(e),h.each(e,function(e,i){if(a(i)===r&&k.init(i),n===r)o===r&&(o=P.getPropertyValue(i,t));else{var u=P.setPropertyValue(i,t,n);"transform"===u[0]&&k.CSS.flushTransformCache(i),o=u}}),o};var E=function e(){function o(){return y?E.promise||null:v}function l(e,o){function i(i){var c,p;if(s.begin&&0===T)try{s.begin.call(m,m)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===O){var y,v,g,S=/^x$/i.test(s.axis)?"Left":"Top",A=parseFloat(s.offset)||0;s.container?b.isWrapped(s.container)||b.isNode(s.container)?(s.container=s.container[0]||s.container,y=s.container["scroll"+S],g=y+h(e).position()[S.toLowerCase()]+A):s.container=null:(y=k.State.scrollAnchor[k.State["scrollProperty"+S]],v=k.State.scrollAnchor[k.State["scrollProperty"+("Left"===S?"Top":"Left")]],g=h(e).offset()[S.toLowerCase()]+A),l={scroll:{rootPropertyValue:!1,startValue:y,currentValue:y,endValue:g,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:S,alternateValue:v}},element:e},k.debug&&console.log("tweensContainer (scroll): ",l.scroll,e)}else if("reverse"===O){if(c=a(e),!c)return;if(!c.tweensContainer)return void h.dequeue(e,s.queue);"none"===c.opts.display&&(c.opts.display="auto"),"hidden"===c.opts.visibility&&(c.opts.visibility="visible"),c.opts.loop=!1,c.opts.begin=null,c.opts.complete=null,x.easing||delete s.easing,x.duration||delete s.duration,s=h.extend({},c.opts,s),p=h.extend(!0,{},c?c.tweensContainer:null);for(var C in p)if(p.hasOwnProperty(C)&&"element"!==C){var _=p[C].startValue;p[C].startValue=p[C].currentValue=p[C].endValue,p[C].endValue=_,b.isEmptyObject(x)||(p[C].easing=s.easing),k.debug&&console.log("reverse tweensContainer ("+C+"): "+JSON.stringify(p[C]),e)}l=p}else if("start"===O){c=a(e),c&&c.tweensContainer&&c.isAnimating===!0&&(p=c.tweensContainer);var N=function(t,n){var r,i,a;return b.isFunction(t)&&(t=t.call(e,o,j)),b.isArray(t)?(r=t[0],!b.isArray(t[1])&&/^[\d-]/.test(t[1])||b.isFunction(t[1])||P.RegEx.isHex.test(t[1])?a=t[1]:b.isString(t[1])&&!P.RegEx.isHex.test(t[1])&&k.Easings[t[1]]||b.isArray(t[1])?(i=n?t[1]:f(t[1],s.duration),a=t[2]):a=t[1]||t[2]):r=t,n||(i=i||s.easing),b.isFunction(r)&&(r=r.call(e,o,j)),b.isFunction(a)&&(a=a.call(e,o,j)),[r||0,i,a]},I=function(o,i){var a,f=P.Hooks.getRoot(o),d=!1,y=i[0],v=i[1],g=i[2];if(!(c&&c.isSVG||"tween"===f||P.Names.prefixCheck(f)[1]!==!1||P.Normalizations.registered[f]!==r))return void(k.debug&&console.log("Skipping ["+f+"] due to a lack of browser support."));(s.display!==r&&null!==s.display&&"none"!==s.display||s.visibility!==r&&"hidden"!==s.visibility)&&/opacity|filter/.test(o)&&!g&&0!==y&&(g=0),s._cacheValues&&p&&p[o]?(g===r&&(g=p[o].endValue+p[o].unitType),d=c.rootPropertyValueCache[f]):P.Hooks.registered[o]?g===r?(d=P.getPropertyValue(e,f),g=P.getPropertyValue(e,o,d)):d=P.Hooks.templates[f][1]:g===r&&(g=P.getPropertyValue(e,o));var m,w,S,x=!1,A=function(e,t){var n,r;return r=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=P.Values.getUnitType(e)),[r,n]};if(g!==y&&b.isString(g)&&b.isString(y)){a="";var E=0,j=0,T=[],C=[],_=0,O=0,N=0;for(g=P.Hooks.fixColors(g),y=P.Hooks.fixColors(y);E<g.length&&j<y.length;){var I=g[E],R=y[j];if(/[\d\.-]/.test(I)&&/[\d\.-]/.test(R)){for(var L=I,V=R,D=".",B=".";++E<g.length;){if(I=g[E],I===D)D="..";else if(!/\d/.test(I))break;L+=I}for(;++j<y.length;){if(R=y[j],R===B)B="..";else if(!/\d/.test(R))break;V+=R}var $=P.Hooks.getUnit(g,E),z=P.Hooks.getUnit(y,j);if(E+=$.length,j+=z.length,$===z)L===V?a+=L+$:(a+="{"+T.length+(O?"!":"")+"}"+$,T.push(parseFloat(L)),C.push(parseFloat(V)));else{var M=parseFloat(L),q=parseFloat(V);a+=(_<5?"calc":"")+"("+(M?"{"+T.length+(O?"!":"")+"}":"0")+$+" + "+(q?"{"+(T.length+(M?1:0))+(O?"!":"")+"}":"0")+z+")",M&&(T.push(M),C.push(0)),q&&(T.push(0),C.push(q))}}else{if(I!==R){_=0;break}a+=I,E++,j++,0===_&&"c"===I||1===_&&"a"===I||2===_&&"l"===I||3===_&&"c"===I||_>=4&&"("===I?_++:(_&&_<5||_>=4&&")"===I&&--_<5)&&(_=0),0===O&&"r"===I||1===O&&"g"===I||2===O&&"b"===I||3===O&&"a"===I||O>=3&&"("===I?(3===O&&"a"===I&&(N=1),O++):N&&","===I?++N>3&&(O=N=0):(N&&O<(N?5:4)||O>=(N?4:3)&&")"===I&&--O<(N?5:4))&&(O=N=0)}}E===g.length&&j===y.length||(k.debug&&console.error('Trying to pattern match mis-matched strings ["'+y+'", "'+g+'"]'),a=r),a&&(T.length?(k.debug&&console.log('Pattern found "'+a+'" -> ',T,C,"["+g+","+y+"]"),g=T,y=C,w=S=""):a=r)}a||(m=A(o,g),g=m[0],S=m[1],m=A(o,y),y=m[0].replace(/^([+-\/*])=/,function(e,t){return x=t,""}),w=m[1],g=parseFloat(g)||0,y=parseFloat(y)||0,"%"===w&&(/^(fontSize|lineHeight)$/.test(o)?(y/=100,w="em"):/^scale/.test(o)?(y/=100,w=""):/(Red|Green|Blue)$/i.test(o)&&(y=y/100*255,w="")));var H=function(){var r={myParent:e.parentNode||n.body,position:P.getPropertyValue(e,"position"),fontSize:P.getPropertyValue(e,"fontSize")},o=r.position===F.lastPosition&&r.myParent===F.lastParent,i=r.fontSize===F.lastFontSize;F.lastParent=r.myParent,F.lastPosition=r.position,F.lastFontSize=r.fontSize;var a=100,u={};if(i&&o)u.emToPx=F.lastEmToPx,u.percentToPxWidth=F.lastPercentToPxWidth,u.percentToPxHeight=F.lastPercentToPxHeight;else{var s=c&&c.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");k.init(s),r.myParent.appendChild(s),h.each(["overflow","overflowX","overflowY"],function(e,t){k.CSS.setPropertyValue(s,t,"hidden")}),k.CSS.setPropertyValue(s,"position",r.position),k.CSS.setPropertyValue(s,"fontSize",r.fontSize),k.CSS.setPropertyValue(s,"boxSizing","content-box"),h.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){k.CSS.setPropertyValue(s,t,a+"%")}),k.CSS.setPropertyValue(s,"paddingLeft",a+"em"),u.percentToPxWidth=F.lastPercentToPxWidth=(parseFloat(P.getPropertyValue(s,"width",null,!0))||1)/a,u.percentToPxHeight=F.lastPercentToPxHeight=(parseFloat(P.getPropertyValue(s,"height",null,!0))||1)/a,u.emToPx=F.lastEmToPx=(parseFloat(P.getPropertyValue(s,"paddingLeft"))||1)/a,r.myParent.removeChild(s)}return null===F.remToPx&&(F.remToPx=parseFloat(P.getPropertyValue(n.body,"fontSize"))||16),null===F.vwToPx&&(F.vwToPx=parseFloat(t.innerWidth)/100,F.vhToPx=parseFloat(t.innerHeight)/100),u.remToPx=F.remToPx,u.vwToPx=F.vwToPx,u.vhToPx=F.vhToPx,k.debug>=1&&console.log("Unit ratios: "+JSON.stringify(u),e),u};if(/[\/*]/.test(x))w=S;else if(S!==w&&0!==g)if(0===y)w=S;else{u=u||H();var U=/margin|padding|left|right|width|text|word|letter/i.test(o)||/X$/.test(o)||"x"===o?"x":"y";switch(S){case"%":g*="x"===U?u.percentToPxWidth:u.percentToPxHeight;break;case"px":break;default:g*=u[S+"ToPx"]}switch(w){case"%":g*=1/("x"===U?u.percentToPxWidth:u.percentToPxHeight);break;case"px":break;default:g*=1/u[w+"ToPx"]}}switch(x){case"+":y=g+y;break;case"-":y=g-y;break;case"*":y*=g;break;case"/":y=g/y}l[o]={rootPropertyValue:d,startValue:g,currentValue:g,endValue:y,unitType:w,easing:v},a&&(l[o].pattern=a),k.debug&&console.log("tweensContainer ("+o+"): "+JSON.stringify(l[o]),e)};for(var R in w)if(w.hasOwnProperty(R)){var L=P.Names.camelCase(R),V=N(w[R]);if(P.Lists.colors.indexOf(L)>=0){var B=V[0],$=V[1],z=V[2];if(P.RegEx.isHex.test(B)){for(var M=["Red","Green","Blue"],q=P.Values.hexToRgb(B),H=z?P.Values.hexToRgb(z):r,U=0;U<M.length;U++){var W=[q[U]];$&&W.push($),H!==r&&W.push(H[U]),I(L+M[U],W)}continue}}I(L,V)}l.element=e}l.element&&(P.Values.addClass(e,"velocity-animating"),D.push(l),c=a(e),c&&(""===s.queue&&(c.tweensContainer=l,c.opts=s),c.isAnimating=!0),T===j-1?(k.State.calls.push([D,m,s,null,E.resolver,null,0]),k.State.isTicking===!1&&(k.State.isTicking=!0,d())):T++)}var u,s=h.extend({},k.defaults,x),l={};switch(a(e)===r&&k.init(e),parseFloat(s.delay)&&s.queue!==!1&&h.queue(e,s.queue,function(t){k.velocityQueueEntryFlag=!0;var n=k.State.delayedElements.count++;k.State.delayedElements[n]=e;var r=function(e){return function(){k.State.delayedElements[e]=!1,t()}}(n);a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(s.delay),a(e).delayTimer={setTimeout:setTimeout(t,parseFloat(s.delay)),next:r}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=S;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}if(k.mock!==!1&&(k.mock===!0?s.duration=s.delay=1:(s.duration*=parseFloat(k.mock)||1,s.delay*=parseFloat(k.mock)||1)),s.easing=f(s.easing,s.duration),s.begin&&!b.isFunction(s.begin)&&(s.begin=null),s.progress&&!b.isFunction(s.progress)&&(s.progress=null),s.complete&&!b.isFunction(s.complete)&&(s.complete=null),s.display!==r&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=k.CSS.Values.getDisplayType(e))),s.visibility!==r&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&k.State.isMobile&&!k.State.isGingerbread,s.queue===!1)if(s.delay){var c=k.State.delayedElements.count++;k.State.delayedElements[c]=e;var p=function(e){return function(){k.State.delayedElements[e]=!1,i()}}(c);a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(s.delay),a(e).delayTimer={setTimeout:setTimeout(i,parseFloat(s.delay)),next:p}}else i();else h.queue(e,s.queue,function(e,t){return t===!0?(E.promise&&E.resolver(m),!0):(k.velocityQueueEntryFlag=!0,void i(e))});""!==s.queue&&"fx"!==s.queue||"inprogress"===h.queue(e)[0]||h.dequeue(e)}var c,y,v,g,m,w,x,A=arguments[0]&&(arguments[0].p||h.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||b.isString(arguments[0].properties));b.isWrapped(this)?(y=!1,g=0,m=this,v=this):(y=!0,g=1,m=A?arguments[0].elements||arguments[0].e:arguments[0]);var E={promise:null,resolver:null,rejecter:null};if(y&&k.Promise&&(E.promise=new k.Promise(function(e,t){E.resolver=e,E.rejecter=t})),A?(w=arguments[0].properties||arguments[0].p,x=arguments[0].options||arguments[0].o):(w=arguments[g],x=arguments[g+1]),m=i(m),!m)return void(E.promise&&(w&&x&&x.promiseRejectEmpty===!1?E.resolver():E.rejecter()));var j=m.length,T=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(w)&&!h.isPlainObject(x)){var C=g+1;x={};for(var _=C;_<arguments.length;_++)b.isArray(arguments[_])||!/^(fast|normal|slow)$/i.test(arguments[_])&&!/^\d/.test(arguments[_])?b.isString(arguments[_])||b.isArray(arguments[_])?x.easing=arguments[_]:b.isFunction(arguments[_])&&(x.complete=arguments[_]):x.duration=arguments[_]}var O;switch(w){case"scroll":O="scroll";break;case"reverse":O="reverse";break;case"pause":var N=(new Date).getTime();return h.each(m,function(e,t){u(t,N)}),h.each(k.State.calls,function(e,t){var n=!1;t&&h.each(t[1],function(e,o){var i=x===r?"":x;return i!==!0&&t[2].queue!==i&&(x!==r||t[2].queue!==!1)||(h.each(m,function(e,r){if(r===o)return t[5]={resume:!1},n=!0,!1}),!n&&void 0)})}),o();case"resume":return h.each(m,function(e,t){s(t,N)}),h.each(k.State.calls,function(e,t){var n=!1;t&&h.each(t[1],function(e,o){var i=x===r?"":x;return i!==!0&&t[2].queue!==i&&(x!==r||t[2].queue!==!1)||(!t[5]||(h.each(m,function(e,r){if(r===o)return t[5].resume=!0,n=!0,!1}),!n&&void 0))})}),o();case"finish":case"finishAll":case"stop":h.each(m,function(e,t){a(t)&&a(t).delayTimer&&(clearTimeout(a(t).delayTimer.setTimeout),a(t).delayTimer.next&&a(t).delayTimer.next(),delete a(t).delayTimer),"finishAll"!==w||x!==!0&&!b.isString(x)||(h.each(h.queue(t,b.isString(x)?x:""),function(e,t){b.isFunction(t)&&t()}),h.queue(t,b.isString(x)?x:"",[]))});var I=[];return h.each(k.State.calls,function(e,t){t&&h.each(t[1],function(n,o){var i=x===r?"":x;return i!==!0&&t[2].queue!==i&&(x!==r||t[2].queue!==!1)||void h.each(m,function(n,r){if(r===o)if((x===!0||b.isString(x))&&(h.each(h.queue(r,b.isString(x)?x:""),function(e,t){b.isFunction(t)&&t(null,!0)}),h.queue(r,b.isString(x)?x:"",[])),"stop"===w){var u=a(r);u&&u.tweensContainer&&i!==!1&&h.each(u.tweensContainer,function(e,t){t.endValue=t.currentValue}),I.push(e)}else"finish"!==w&&"finishAll"!==w||(t[2].duration=1)})})}),"stop"===w&&(h.each(I,function(e,t){p(t,!0)}),E.promise&&E.resolver(m)),o();default:if(!h.isPlainObject(w)||b.isEmptyObject(w)){if(b.isString(w)&&k.Redirects[w]){c=h.extend({},x);var R=c.duration,L=c.delay||0;return c.backwards===!0&&(m=h.extend(!0,[],m).reverse()),h.each(m,function(e,t){parseFloat(c.stagger)?c.delay=L+parseFloat(c.stagger)*e:b.isFunction(c.stagger)&&(c.delay=L+c.stagger.call(t,e,j)),c.drag&&(c.duration=parseFloat(R)||(/^(callout|transition)/.test(w)?1e3:S),c.duration=Math.max(c.duration*(c.backwards?1-e/j:(e+1)/j),.75*c.duration,200)),k.Redirects[w].call(t,t,c||{},e,j,m,E.promise?E:r)}),o()}var V="Velocity: First argument ("+w+") was not a property map, a known action, or a registered redirect. Aborting.";return E.promise?E.rejecter(new Error(V)):console.log(V),o()}O="start"}var F={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},D=[];h.each(m,function(e,t){b.isNode(t)&&l(t,e)}),c=h.extend({},k.defaults,x),c.loop=parseInt(c.loop,10);var B=2*c.loop-1;if(c.loop)for(var $=0;$<B;$++){var z={delay:c.delay,progress:c.progress};$===B-1&&(z.display=c.display,z.visibility=c.visibility,z.complete=c.complete),e(m,"reverse",z)}return o()};k=h.extend(E,k),k.animate=E;var j=t.requestAnimationFrame||v;if(!k.State.isMobile&&n.hidden!==r){var T=function(){n.hidden?(j=function(e){return setTimeout(function(){e(!0)},16)},d()):j=t.requestAnimationFrame||v};T(),n.addEventListener("visibilitychange",T)}return e.Velocity=k,e!==t&&(e.fn.velocity=E,e.fn.velocity.defaults=k.defaults),h.each(["Down","Up"],function(e,t){k.Redirects["slide"+t]=function(e,n,o,i,a,u){var s=h.extend({},n),l=s.begin,c=s.complete,f={},d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};s.display===r&&(s.display="Down"===t?"inline"===k.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),s.begin=function(){0===o&&l&&l.call(a,a);for(var n in d)if(d.hasOwnProperty(n)){f[n]=e.style[n];var r=P.getPropertyValue(e,n);d[n]="Down"===t?[r,0]:[0,r]}f.overflow=e.style.overflow,e.style.overflow="hidden"},s.complete=function(){for(var t in f)f.hasOwnProperty(t)&&(e.style[t]=f[t]);o===i-1&&(c&&c.call(a,a),u&&u.resolver(a))},k(e,d,s)}}),h.each(["In","Out"],function(e,t){k.Redirects["fade"+t]=function(e,n,o,i,a,u){var s=h.extend({},n),l=s.complete,c={opacity:"In"===t?1:0};0!==o&&(s.begin=null),o!==i-1?s.complete=null:s.complete=function(){l&&l.call(a,a),u&&u.resolver(a)},s.display===r&&(s.display="In"===t?"auto":"none"),k(this,c,s)}}),k}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})}),b=r(function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,o){"object"==n(t)?e.exports=o():r.BallpenPluginCookie=o()}(y,function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function n(){e(this,n)}return t(n,null,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.converter=e,n}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.core(this.converter,e,t,n)}},{key:"get",value:function(e){r.core.call(r.core,this.converter,e)}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.core(this.converter,e,"null",r.extend(t,{expires:-1}))}}]),n}(),r=function(){function r(){e(this,r)}return t(r,null,[{key:"extend",value:function(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}},{key:"withConverter",value:function(e){return n.init(e)}},{key:"core",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments[1],o=arguments[2],i=arguments[3],a=Object.prototype.toString;if("undefined"!=typeof document){if(o){if(i=r.extend({path:"/"},i),"number"==typeof i.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+i.expires/86400*864e5),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{"[object Object]"!==a.call(o)&&"[object Array]"!==a.call(o)||(o=JSON.stringify(o))}catch(e){}o=t||t.write?t.write?t.write(o,n):t(o,n):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[()]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,i[l]!==!0&&(s+="="+i[l]));return document.cookie=n+"="+o+s}n||(e={});for(var c=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var p=c[d].split("="),h=p.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var y=p[0].replace(f,decodeURIComponent);h=t?t.read?t.read(h,y):t(h,y):h.replace(f,decodeURIComponent);try{h=JSON.parse(h)}catch(e){}if(n===y){e=h;break}n||(e[y]=h)}catch(e){}}return e}}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.core(!1,e,t,n)}},{key:"get",value:function(e){return r.core.call(this,!1,e)}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.core(!1,e,"null",r.extend(t,{expires:-1}))}}]),r}();return r})}),w=r(function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,o){"object"==n(t)?e.exports=o():r.BallpenPluginCache=o()}(y,function(){function e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="undefined"!=typeof window?window:"undefined"!=typeof y?y:"undefined"!=typeof self?self:{},i=t(function(t,r){var i="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":n(e)};!function(e){if("object"==i(r))t.exports=e();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof o?o:"undefined"!=typeof self?self:this,n.localforage=e()}}(function(){return function t(n,r,o){function i(u,s){if(!r[u]){if(!n[u]){var l="function"==typeof e&&e;if(!s&&l)return l(u,!0);if(a)return a(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[u]={exports:{}};n[u][0].call(f.exports,function(e){var t=n[u][1][e];return i(t?t:e)},f,f.exports,t,n,r,o)}return r[u].exports}for(var a="function"==typeof e&&e,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(e,t,n){(function(e){function n(){c=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}c=!1}function r(e){1!==f.push(e)||c||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,u=new i(n),s=e.document.createTextNode("");u.observe(s,{characterData:!0}),o=function(){s.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var l=new e.MessageChannel;l.port1.onmessage=n,o=function(){l.port2.postMessage(0)}}var c,f=[];t.exports=r}).call(this,"undefined"!=typeof o?o:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,e!==r&&l(this,e)}function a(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){y(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function s(e){var t=e&&e.then;if(e&&"object"==("undefined"==typeof e?"undefined":i(e))&&"function"==typeof t)return function(){t.apply(e,arguments)}}function l(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function f(e){return e instanceof this?e:v.resolve(new this(r),e)}function d(e){var t=new this(r);return v.reject(t,e)}function p(e){function t(e,t){function r(e){a[t]=e,++u!==o||i||(i=!0,v.resolve(l,a))}n.resolve(e).then(r,function(e){i||(i=!0,v.reject(l,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var a=new Array(o),u=0,s=-1,l=new this(r);++s<o;)t(e[s],s);return l}function h(e){function t(e){n.resolve(e).then(function(e){i||(i=!0,v.resolve(u,e))},function(e){i||(i=!0,v.reject(u,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var a=-1,u=new this(r);++a<o;)t(e[a]);return u}var y=e(1),v={},g=["REJECTED"],m=["FULFILLED"],b=["PENDING"];t.exports=n=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==b){var o=this.state===m?e:t;u(n,o,this.outcome)}else this.queue.push(new a(n,e,t));return n},a.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},a.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},a.prototype.callRejected=function(e){v.reject(this.promise,e)},a.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(s,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)l(e,r);else{e.state=m,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},n.resolve=f,n.reject=d,n.all=p,n.race=h},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!=typeof o?o:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){}}function a(){try{if(!ue)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function u(){return"function"==typeof openDatabase}function s(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function c(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function f(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function d(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function p(e){return new ce(function(t){var n=e.transaction(fe,"readwrite"),r=l([""]);n.objectStore(fe).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function h(e){return"boolean"==typeof se?ce.resolve(se):p(e).then(function(e){return se=e})}function y(e){var t=le[e.name],n={};n.promise=new ce(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function v(e){var t=le[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function g(e,t){return new ce(function(n,r){if(e.db){if(!t)return n(e.db);y(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=ue.open.apply(ue,o);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(fe)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){n(i.result),v(e)}})}function m(e){return g(e,!1)}function b(e){return g(e,!0)}function w(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function S(e){return new ce(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function x(e){var t=d(atob(e.data));return l([t],{type:e.type})}function k(e){return e&&e.__local_forage_encoded_blob}function A(e){var t=this,n=t._initReady().then(function(){var e=le[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return f(n,e,e),n}function P(e){function t(){return ce.resolve()}var n=this,r={db:null};if(e)for(var o in e)r[o]=e[o];le||(le={});var i=le[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},le[r.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=A);for(var a=[],u=0;u<i.forages.length;u++){var s=i.forages[u];s!==n&&a.push(s._initReady().catch(t))}var l=i.forages.slice(0);return ce.all(a).then(function(){return r.db=i.db,m(r)}).then(function(e){return r.db=e,w(r,n._defaultConfig.version)?b(r):e}).then(function(e){r.db=i.db=e,n._dbInfo=r;for(var t=0;t<l.length;t++){var o=l[t];o!==n&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function E(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new ce(function(t,r){n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),k(e)&&(e=x(e)),t(e)},a.onerror=function(){r(a.error)}}).catch(r)});return c(r,t),r}function j(e,t){var n=this,r=new ce(function(t,r){n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.openCursor(),u=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;k(r)&&(r=x(r));var o=e(r,n.key,u++);void 0!==o?t(o):n.continue()}else t()},a.onerror=function(){r(a.error)}}).catch(r)});return c(r,t),r}function T(e,t,n){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new ce(function(n,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===de.call(t)?h(i.db).then(function(e){return e?t:S(t)}):t}).then(function(t){var r=i.db.transaction(i.storeName,"readwrite"),a=r.objectStore(i.storeName),u=a.put(t,e);null===t&&(t=void 0),r.oncomplete=function(){void 0===t&&(t=null),n(t)},r.onabort=r.onerror=function(){var e=u.error?u.error:u.transaction.error;o(e)}}).catch(o)});return c(o,n),o}function C(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new ce(function(t,r){n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),a=i.objectStore(o.storeName),u=a.delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(u.error)},i.onabort=function(){var e=u.error?u.error:u.transaction.error;r(e)}}).catch(r)});return c(r,t),r}function _(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),i=o.objectStore(r.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}).catch(n)});return c(n,e),n}function O(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}).catch(n)});return c(n,e),n}function N(e,t){var n=this,r=new ce(function(t,r){return e<0?void t(null):void n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=!1,u=i.openCursor();u.onsuccess=function(){var n=u.result;return n?void(0===e?t(n.key):a?t(n.key):(a=!0,
n.advance(e))):void t(null)},u.onerror=function(){r(u.error)}}).catch(r)});return c(r,t),r}function I(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.openCursor(),a=[];i.onsuccess=function(){var t=i.result;return t?(a.push(t.key),void t.continue()):void e(a)},i.onerror=function(){n(i.error)}}).catch(n)});return c(n,e),n}function R(e){var t,n,r,o,i,a=.75*e.length,u=e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(t=0;t<u;t+=4)n=he.indexOf(e[t]),r=he.indexOf(e[t+1]),o=he.indexOf(e[t+2]),i=he.indexOf(e[t+3]),c[s++]=n<<2|r>>4,c[s++]=(15&r)<<4|o>>2,c[s++]=(3&o)<<6|63&i;return l}function L(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=he[n[t]>>2],r+=he[(3&n[t])<<4|n[t+1]>>4],r+=he[(15&n[t+1])<<2|n[t+2]>>6],r+=he[63&n[t+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function V(e,t){var n="";if(e&&(n=Oe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Oe.call(e.buffer))){var r,o=ge;e instanceof ArrayBuffer?(r=e,o+=be):(r=e.buffer,"[object Int8Array]"===n?o+=Se:"[object Uint8Array]"===n?o+=xe:"[object Uint8ClampedArray]"===n?o+=ke:"[object Int16Array]"===n?o+=Ae:"[object Uint16Array]"===n?o+=Ee:"[object Int32Array]"===n?o+=Pe:"[object Uint32Array]"===n?o+=je:"[object Float32Array]"===n?o+=Te:"[object Float64Array]"===n?o+=Ce:t(new Error("Failed to get type for BinaryArray"))),t(o+L(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=ye+e.type+"~"+L(this.result);t(ge+we+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function F(e){if(e.substring(0,me)!==ge)return JSON.parse(e);var t,n=e.substring(_e),r=e.substring(me,_e);if(r===we&&ve.test(n)){var o=n.match(ve);t=o[1],n=n.substring(o[0].length)}var i=R(n);switch(r){case be:return i;case we:return l([i],{type:t});case Se:return new Int8Array(i);case xe:return new Uint8Array(i);case ke:return new Uint8ClampedArray(i);case Ae:return new Int16Array(i);case Ee:return new Uint16Array(i);case Pe:return new Int32Array(i);case je:return new Uint32Array(i);case Te:return new Float32Array(i);case Ce:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}function D(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new ce(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=n,e()},function(e,t){r(t)})})});return n.serializer=Ne,o}function B(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new ce(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return c(r,t),r}function $(e,t){var n=this,r=new ce(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,u=0;u<a;u++){var s=i.item(u),l=s.value;if(l&&(l=o.serializer.deserialize(l)),l=e(l,s.key,u+1),void 0!==l)return void t(l)}t()},function(e,t){r(t)})})}).catch(r)});return c(r,t),r}function z(e,t,n,r){var o=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new ce(function(i,a){o.ready().then(function(){void 0===t&&(t=null);var u=t,s=o._dbInfo;s.serializer.serialize(t,function(t,l){l?a(l):s.db.transaction(function(n){n.executeSql("INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){i(u)},function(e,t){a(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(z.apply(o,[e,u,n,r-1]));a(t)}})})}).catch(a)});return c(i,n),i}function M(e,t,n){return z.apply(this,[e,t,n,1])}function q(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new ce(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return c(r,t),r}function H(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return c(n,e),n}function U(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return c(n,e),n}function W(e,t){var n=this,r=new ce(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return c(r,t),r}function X(e){var t=this,n=new ce(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)},function(e,t){n(t)})})}).catch(n)});return c(n,e),n}function G(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=n.name+"/",n.storeName!==t._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),t._dbInfo=n,n.serializer=Ne,ce.resolve()}function Q(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return c(n,e),n}function K(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return c(r,t),r}function Z(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,u=0;u<i;u++){var s=localStorage.key(u);if(0===s.indexOf(r)){var l=localStorage.getItem(s);if(l&&(l=t.serializer.deserialize(l)),l=e(l,s.substring(o),a++),void 0!==l)return l}}});return c(r,t),r}function Y(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return c(r,t),r}function J(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++)0===localStorage.key(o).indexOf(e.keyPrefix)&&r.push(localStorage.key(o).substring(e.keyPrefix.length));return r});return c(n,e),n}function ee(e){var t=this,n=t.keys().then(function(e){return e.length});return c(n,e),n}function te(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return c(r,t),r}function ne(e,t,n){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new ce(function(o,i){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return c(o,n),o}function re(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function oe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(ze(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}function ie(e){for(var t in Ve)if(Ve.hasOwnProperty(t)&&Ve[t]===e)return!0;return!1}var ae="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":i(e)},ue=o();"undefined"==typeof Promise&&e(3);var se,le,ce=Promise,fe="local-forage-detect-blob-support",de=Object.prototype.toString,pe={_driver:"asyncStorage",_initStorage:P,iterate:j,getItem:E,setItem:T,removeItem:C,clear:_,length:O,key:N,keys:I},he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye="~~local_forage_type~",ve=/^~~local_forage_type~([^~]+)~/,ge="__lfsc__:",me=ge.length,be="arbf",we="blob",Se="si08",xe="ui08",ke="uic8",Ae="si16",Pe="si32",Ee="ur16",je="ui32",Te="fl32",Ce="fl64",_e=me+be.length,Oe=Object.prototype.toString,Ne={serialize:V,deserialize:F,stringToBuffer:R,bufferToString:L},Ie={_driver:"webSQLStorage",_initStorage:D,iterate:$,getItem:B,setItem:M,removeItem:q,clear:H,length:U,key:W,keys:X},Re={_driver:"localStorageWrapper",_initStorage:G,iterate:Z,getItem:K,setItem:ne,removeItem:te,clear:Q,length:ee,key:Y,keys:J},Le={},Ve={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Fe=[Ve.INDEXEDDB,Ve.WEBSQL,Ve.LOCALSTORAGE],De=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],Be={description:"",driver:Fe.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},$e={};$e[Ve.INDEXEDDB]=a(),$e[Ve.WEBSQL]=u(),$e[Ve.LOCALSTORAGE]=s();var ze=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Me=function(){function e(t){r(this,e),this.INDEXEDDB=Ve.INDEXEDDB,this.LOCALSTORAGE=Ve.LOCALSTORAGE,this.WEBSQL=Ve.WEBSQL,this._defaultConfig=oe({},Be),this._config=oe({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===("undefined"==typeof e?"undefined":ae(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new ce(function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),i=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void n(o);if(ie(e._driver))return void n(i);for(var a=De.concat("_initStorage"),u=0;u<a.length;u++){var s=a[u];if(!s||!e[s]||"function"!=typeof e[s])return void n(o)}var l=ce.resolve(!0);"_support"in e&&(l=e._support&&"function"==typeof e._support?e._support():ce.resolve(!!e._support)),l.then(function(n){$e[r]=n,Le[r]=e,t()},n)}catch(e){n(e)}});return f(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=this,o=ce.resolve().then(function(){if(!ie(e)){if(Le[e])return Le[e];throw new Error("Driver not found.")}switch(e){case r.INDEXEDDB:return pe;case r.LOCALSTORAGE:return Re;case r.WEBSQL:return Ie}});return f(o,t,n),o},e.prototype.getSerializer=function(e){var t=ce.resolve(Ne);return f(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return f(n,e,e),n},e.prototype.setDriver=function(e,t,n){function r(){a._config.driver=a.driver()}function o(e){return a._extend(e),r(),a._ready=a._initStorage(a._config),a._ready}function i(e){return function(){function t(){for(;n<e.length;){var i=e[n];return n++,a._dbInfo=null,a._ready=null,a.getDriver(i).then(o).catch(t)}r();var u=new Error("No available storage method found.");return a._driverSet=ce.reject(u),a._driverSet}var n=0;return t()}}var a=this;ze(e)||(e=[e]);var u=this._getSupportedDrivers(e),s=null!==this._driverSet?this._driverSet.catch(function(){return ce.resolve()}):ce.resolve();return this._driverSet=s.then(function(){var e=u[0];return a._dbInfo=null,a._ready=null,a.getDriver(e).then(function(e){a._driver=e._driver,r(),a._wrapLibraryMethodsWithReady(),a._initDriver=i(u)})}).catch(function(){r();var e=new Error("No available storage method found.");return a._driverSet=ce.reject(e),a._driverSet}),f(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!$e[e]},e.prototype._extend=function(e){oe(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<De.length;e++)re(this,De[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),qe=new Me;t.exports=qe},{3:3}]},{},[4])(4)})}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){r(this,e)}return a(e,null,[{key:"set",value:function(){return i.setItem.apply(i,arguments)}},{key:"get",value:function(){return i.getItem.apply(i,arguments)}},{key:"remove",value:function(){return i.remove.apply(i,arguments)}},{key:"length",value:function(){return i.length.apply(i,arguments)}},{key:"clear",value:function(){return i.clear.apply(i,arguments)}},{key:"key",value:function(){return i.key.apply(i,arguments)}},{key:"keys",value:function(){return i.keys.apply(i,arguments)}},{key:"iterate",value:function(){return i.iterate.apply(i,arguments)}},{key:"setDriver",value:function(){return i.setDriver.apply(i,arguments)}},{key:"config",value:function(){return i.config.apply(i,arguments)}},{key:"defineDriver",value:function(){return i.defineDriver.apply(i,arguments)}},{key:"driver",value:function(){return i.setDriver.apply(i,arguments)}},{key:"supports",value:function(){return i.supports.apply(i,arguments)}}]),e}();return u})}),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=function(){function e(){o(this,e)}return S(e,null,[{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.compile(e)}).then(function(e){return t.env=t.env||{},t.env.memoryBase=t.env.memoryBase||0,t.env.memory||(t.env.memory=new WebAssembly.Memory({initial:256})),t.env.tableBase=t.env.tableBase||0,t.env.table||(t.env.table=new WebAssembly.Table({initial:0,element:"anyfunc"})),new WebAssembly.Instance(e,t)})}},{key:"extract",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return WebAssembly.compile(new Uint8Array(e.trim().split(/[\s\r\n]+/g).map(function(e){return parseInt(e,16)}))).then(function(e){return new WebAssembly.Instance(e,t)})}}]),e}(),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(){function e(){i(this,e)}return k(e,null,[{key:"Algorithm",value:function(){return"00 61 73 6d 0d 00 00 00 01 06 01 60 01 7d 01 7d\n\t\t\t\t03 02 01 00 04 04 01 70 00 00 05 03 01 00 01 07\n\t\t\t\t18 02 06 6d 65 6d 6f 72 79 02 00 0b 5f 5a 37 49\n\t\t\t\t6e 76 53 71 72 74 66 00 00 0a 29 01 27 00 20 00\n\t\t\t\t43 00 00 00 bf 94 41 df b3 dd f9 05 20 00 bc 41\n\t\t\t\t01 75 6b be 22 00 94 20 00 94 43 00 00 c0 3f 92\n\t\t\t\t20 00 94 0b"}}]),e}(),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(){function e(){a(this,e)}return P(e,null,[{key:"set",value:function(t){t.registerPlugin=e.registerPlugin,t.$http=v,t.$util=g,t.$cache=w,t.$cookie=b,t.$animate=m,t.$wasm=x,t.$refs={},t.wasmCore={},t.wasmCore.algorithm=x.extract(A.Algorithm()),t.registerPlugin=e.registerPlugin}},{key:"registerPlugin",value:function(e,t){Ballpen["$"+e]=t}}]),e}(),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(){function e(t,n){var r=this;u(this,e),this.$dataModel=n,E.set(e),this.lifecycleHookPoint("beforeRender",this.$dataModel,function(){r.init(t,r.$dataModel),r.scan(r.$el)})}return j(e,[{key:"lifecycleHookPoint",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t.data;"beforeRender"===e&&t.lifecycle&&t.lifecycle.beforeRender?new Promise(function(e,r){return t.lifecycle.beforeRender.call(n,e,r,o)}).then(function(){r&&r.call(n,t)}).catch(function(e){}):"afterRender"===e&&t.lifecycle&&t.lifecycle.afterRender?t.lifecycle.afterRender.call(this,o):r&&r.call(this,t)}},{key:"init",value:function(e,t){var n=this;if(this.$el=document.querySelector(e),this.$el||h.trigger("INIT_INVALID_ROOT",e),t.events&&(this.$eventList={},this.initEventList(t.events)),t.data&&(this.$dataListPure=t.data,this.data=this.$dataListPure,this.$dataList=c.clone(t.data)),t.watchers){this.watchersHook=c.findReferenceNode(this.$dataList);var r=t.watchers,o=function(e){var t={root:e,handler:r[e].handler};n.watchersHook.forEach(function(n,r){new RegExp("^"+e,"ig").test(r)&&n.push(t)})};for(var i in r)o(i);this.watchersHook.forEach(function(e,t){c.renderObjectValueByPath(n.$dataList,t,n.setProxy(t,e))})}this.$registers=[]}},{key:"setProxy",value:function(e,t){var n=this,r=c.parseData(e,this.$dataList).data,o=c.parseData(e,this.$dataListPure).data,i={get:function(e,n){return t.forEach(function(e){e.handler,e.root}),e[n]},set:function(r,i,a,u){if(a!==o[i]){var s=void 0;c.isReferenceType(a)?(o[i]=c.clone(a),s=c.clone(a)):(o[i]=a,s=a),c.renderObjectValueByPath(n.$dataListPure,e+"."+i,s),r[i]=a,t.forEach(function(e){var t=e.handler,r=e.root;t&&t.call(n,c.parseData(r,n.$dataListPure).data,c.parseData(r,n.$dataList).data)})}return!0},defineProperty:function(e,t,n){return Reflect.defineProperty(e,t,n)}};return new Proxy(r,i)}},{key:"initEventList",value:function(e){if(e){var t=e;for(var n in t)this.$eventList[n]={},this.$eventList[n].type="",this.$eventList[n].fn=t[n]}}},{key:"scan",value:function(e){for(var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=function(n){var r=e.children[n];if(r.hasAttributes()){for(var o=r.attributes,i=[],a=0;a<o.length;a++){var u=o.item(a);i.push(u.name),/bp-event/gi.test(u.name)&&!function(){r.removeAttribute(u.name);var e=[],n=u;if(/bp-event:/gi.test(n.name))e.push({_fnType:n.name.split(":")[1],_fnName:n.value});else{var o=n.value.match(/[a-zA-Z]+:[a-zA-Z0-9_$]+/gi);o.forEach(function(t){e.push({_fnType:t.split(":")[0],_fnName:t.split(":")[1]})})}e.forEach(function(e){var n=e._fnType,o=e._fnName;t.bindEvent(r,o,n,t.$dataList,{})})}(),/bp-bind/gi.test(u.name)&&!function(){r.removeAttribute(u.name);var e=[],n=u;if(/bp-bind:/gi.test(n.name))e.push({_bindKey:n.name.split(":")[1],_thisSubModelAbs:n.value});else{var o=n.value.match(/[a-zA-Z0-9_$-]+:[a-zA-Z0-9_$.]+/gi);o.forEach(function(t){e.push({_bindKey:t.split(":")[0],_thisSubModelAbs:t.split(":")[1]})})}e.forEach(function(e){var n=e._bindKey,o=e._thisSubModelAbs;t.bindBind(r,o,n)})}()}if(i.includes("bp-pre"))return t.bindPre(r),"continue";if(i.includes("bp-for"))return t.bindFor(r),"continue";i.includes("bp-model")&&t.bindModel(r),i.includes("bp-class")&&t.bindClass(r),i.includes("bp-show")&&t.bindShow(r),i.includes("bp-ref")&&t.bindRef(r)}var s=r.childNodes;s.forEach(function(e,n){e.nodeType===Node.TEXT_NODE&&t.bindMoustache(r,e)}),r.children.length>0&&t.scan(r,!1)},o=0;o<e.children.length;o++){r(o)}n&&(d.attach(this.$registers),this.$el.removeAttribute("bp-shade"),this.lifecycleHookPoint("afterRender",this.$dataModel))}},{key:"bindRef",value:function(t){var n=t.getAttribute("bp-ref");c.isArray(e.$refs[n])?e.$refs[n].push(t):(e.$refs[n]=[],e.$refs[n].push(t)),t.removeAttribute("bp-ref")}},{key:"bindShow",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=c.wrapAbsPath(n,e.getAttribute("bp-show"));c.ignoreInnerDirectives(r,[],function(e){var n=c.parseData(r,t.$dataList),o=e.style;n.data?o.removeProperty?o.removeProperty("display"):o.removeAttribute("display"):o.display="none",d.register(t.$registers,t.$dataList,t.$dataListPure,n.path,function(e,t){t?o.removeProperty?o.removeProperty("display"):o.removeAttribute("display"):o.display="none"})},e),e.removeAttribute("bp-show")}},{key:"bindModel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=c.wrapAbsPath(n,e.getAttribute("bp-model"));c.ignoreInnerDirectives(r,[/^@{([\d]+)}$/gi],function(e){if(/^@{([\d]+)}$/gi.test(r)){var n=r.match(/^@{([\d]+)}$/)[1];"INPUT"===e.tagName?e.value=n:e.innerText=n}else{var o=c.parseData(r,t.$dataList);"INPUT"===e.tagName?e.value=o.data:e.innerText=o.data,d.register(t.$registers,t.$dataList,t.$dataListPure,o.path,function(t,n){"INPUT"===e.tagName?e.value=n:e.innerText=n})}},e),e.removeAttribute("bp-model")}},{key:"bindMoustache",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=t.nodeValue,i=t.nodeValue,a=i.match(/{{.*?}}/gi),u={};if(c.isArray(a)&&a.length>0){a.forEach(function(e){var a=e.slice(2,-2).trim();/^@{([\d]+)}$/gi.test(a)?u[e]=a.match(/^@{([\d]+)}$/)[1]:!function(){var s=c.parseData(c.wrapAbsPath(r,a),n.$dataList);u[e]=s.data,d.register(n.$registers,n.$dataList,n.$dataListPure,s.path,function(e,n){u["{{ "+s.path.join(".")+" }}"]=n;for(var r in u)i=o.replace(r,u[r]);t.nodeValue=i})}()});for(var s in u)i=o.replace(s,u[s])}t.nodeValue=i}},{key:"bindClass",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=c.wrapAbsPath(n,e.getAttribute("bp-class"));c.ignoreInnerDirectives(r,[],function(e){var n=c.parseData(r,t.$dataList);e.classList.contains(n.data)||e.classList.add(n.data),d.register(t.$registers,t.$dataList,t.$dataListPure,n.path,function(t,n){e.classList.remove(t),e.classList.contains(n)||e.classList.add(n)})},e),e.removeAttribute("bp-class")}},{key:"bindPre",value:function(e){e.removeAttribute("bp-pre")}},{key:"bindEvent",value:function(e,t,n,r){var o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};c.ignoreInnerDirectives(t,[],function(e,t,n,r){o.$eventList[t].type=n,e.addEventListener(n,function(){o.$eventList[t].fn.call(o.$dataList,e,r,i)})},e,t,n,r,i)}},{key:"bindBind",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];c.ignoreInnerDirectives(t,[],function(e,t,n){var i=c.wrapAbsPath(o,t),a=c.parseData(i,r.$dataList);e.setAttribute(n,a.data),d.register(r.$registers,r.$dataList,r.$dataListPure,a.path,function(t,r){e.setAttribute(n,r)})},e,t,n)}},{key:"bindFor",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.getAttribute("bp-for").split(/\s+in\s+/),i=o[1],a=o[0],u=c.randomSequence(12);if(/^@/gi.test(a)||h.trigger("BIND_FOR_INVALID_ALIAS",a),/\./gi.test(i)){var s=i.split(".");n[i]=n[s[0]]+"."+s[1]}else n[i]=i;for(var l=c.clone(n),f=c.clone(r),p=c.parseData(n[i],this.$dataList),y=e.parentNode,v=document.createDocumentFragment(),g=0;g<p.data.length;g++){var m=e.cloneNode(!0),b=n[i]+"."+g;n[a]=b,r[a]=g,m.removeAttribute("bp-for"),m.setAttribute("bp-for-rendered-id",u),this.bindForItemsRecursion(m,n,r,b,g,!0,function(e){v.appendChild(e)})}y.replaceChild(v,e),d.register(this.$registers,this.$dataList,this.$dataListPure,p.path,function(n,r){for(var o=document.createDocumentFragment(),s=0;s<r.length;s++){var c=e.cloneNode(!0),d=l[i]+"."+s;l[a]=d,f[a]=s,c.removeAttribute("bp-for"),c.setAttribute("bp-for-rendered-id",u),t.bindForItemsRecursion(c,l,f,d,s,!0,function(e){o.appendChild(e)})}for(var p=y.querySelectorAll("[bp-for-rendered-id='"+u+"']"),h=0;h<p.length;h++)0===h?y.replaceChild(o,p.item(h)):p.item(h).remove()})}},{key:"bindForItemsRecursion",value:function(e,t,n,r,o){for(var i=this,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=!!c.isHTMLCollection(e),l=function(a){var u=s?e[a]:e,l=u.childNodes;if(l.forEach(function(e,r){e.nodeType===Node.TEXT_NODE&&!function(){var r=e.nodeValue,o=e.nodeValue,a=o.match(/{{.*?}}/gi),s={};if(c.isArray(a)&&a.length>0){a.forEach(function(e){var r=e.slice(2,-2).trim(),o=r;/^@/gi.test(r)&&(o=/\[\[index\]\]/gi.test(r)?"@{"+n[r.match(/^(.*)\[\[index\]\]$/)[1]]+"}":r.replace(/^@[a-z0-9A-Z_]*/,t[r.split(".")[0]])),s[e]="{{ "+o+" }}"});for(var l in s)o=r.replace(l,s[l])}e.nodeValue=o,i.bindMoustache(u,e)}()}),!u.hasAttributes()&&s)return u.children.length>0&&i.bindForItemsRecursion(u.children,t,n,r,o),"continue";for(var f=u.attributes,d=[],p=0;p<f.length;p++){var h=f.item(p);d.push(h.name),/bp-event/gi.test(h.name)&&!function(){var e=[];if(/bp-event:/gi.test(h.name))e.push({_fnType:h.name.split(":")[1],_fnName:h.value});else{var t=h.value.match(/[a-zA-Z]+:[a-zA-Z0-9_$]+/gi);t.forEach(function(t){e.push({_fnType:t.split(":")[0],_fnName:t.split(":")[1]})})}e.forEach(function(e){var t=e._fnType,n=e._fnName;/^@:/gi.test(n)?i.bindEvent(u,n.split(":")[1],t,i.$dataList,{index:o}):i.bindEvent(u,n,t,i.$dataList,{})}),u.removeAttribute(h.name)}(),/bp-bind/gi.test(h.name)&&!function(){var e=[];if(/bp-bind:/gi.test(h.name))e.push({_bindKey:h.name.split(":")[1],_thisSubModelAbs:h.value});else{var n=h.value.match(/[a-zA-Z0-9_$-]+:[a-zA-Z0-9_$.]+/gi);n.forEach(function(t){e.push({_bindKey:t.split(":")[0],_thisSubModelAbs:t.split(":")[1]})})}e.forEach(function(e){var n=e._bindKey,r=e._thisSubModelAbs;/^@/gi.test(r)&&(r=r.replace(/^@[a-z0-9A-Z_]*/,t[r.split(".")[0]])),i.bindBind(u,r,n)}),u.removeAttribute(h.name)}()}if(d.includes("bp-for"))return i.bindFor(u,t,n),"continue";if(d.includes("bp-ref")&&i.bindRef(u),d.includes("bp-class")){var y=u.getAttribute("bp-class"),v=y;/^@/gi.test(y)&&(v=y.replace(/^@[a-z0-9A-Z_]*/,t[y.split(".")[0]])),v!==y&&u.setAttribute("bp-class",v),i.bindClass(u)}if(d.includes("bp-model")){var g=u.getAttribute("bp-model"),m=g;/^@/gi.test(g)&&(m=/\[\[index\]\]/gi.test(g)?"@{"+n[g.match(/^(.*)\[\[index\]\]$/)[1]]+"}":/@{\d+}/gi.test(g)?g:g.replace(/^@[a-z0-9A-Z_]*/,t[g.split(".")[0]])),m!==g&&u.setAttribute("bp-model",m),i.bindModel(u)}if(d.includes("bp-show")){var b=u.getAttribute("bp-show"),w=b;/^@/gi.test(b)&&(w=b.replace(/^@[a-z0-9A-Z_]*/,t[b.split(".")[0]])),w!==b&&u.setAttribute("bp-show",w),i.bindShow(u)}u.children.length>0&&i.bindForItemsRecursion(u.children,t,n,r,o)},f=0;f<(s?e.length:1);f++){l(f)}a&&u&&u.call(this,e)}}]),e}();return T});
//# sourceMappingURL=ballpen.min.js.map
